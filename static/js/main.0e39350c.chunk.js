(this.webpackJsonpsloddilabertv2=this.webpackJsonpsloddilabertv2||[]).push([[0],{142:function(e,t,n){e.exports=n(187)},184:function(e,t,n){},186:function(e){e.exports=JSON.parse('{"domain":"quotracker.eu.auth0.com","clientId":"4yrrz6hbGFLgkjm67K2NU9dIWCKvjnmd","audience":"https://quotracker.herokuapp.com"}')},187:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(14),c=n.n(i),o=n(18),u=n.n(o),l=n(26),s=n(40),d=n(230),f=n(11),m=n(266),E=n(232),h=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];setTimeout((function(){return f.navigate.apply(void 0,t)}),100)},g=n(190),v=function(e){return r.a.createElement(d.a,Object.assign({},e,{onClick:function(t){t.preventDefault(),h(e.href)}}),e.children)},p=function(e){return r.a.createElement(E.a,Object.assign({},e,{onClick:function(t){t.preventDefault(),Object(f.navigate)(e.href)}}))},b=n(233),T=function(e){return r.a.createElement(b.a,{maxWidth:"md"},e.children?e.children:r.a.createElement("div",null))},O=n(259),S=function(e){return r.a.createElement(O.a,{className:"page-title"},r.a.createElement(s.a,{variant:"h3",component:"h1"},e.title,e.children))},j=function(){return Object(f.useTitle)("404 - Nicht gefunden - quotracker"),r.a.createElement(T,null,r.a.createElement(S,{title:"404 - Seite nicht gefunden"}),r.a.createElement(s.a,{variant:"body1",style:{marginBottom:12}},"Sorry, die angeforderte Seite wurde leider nicht gefunden :/"),r.a.createElement(v,{variant:"contained",color:"primary",href:"/"},"Zur Startseite")," ")},k=n(236),y=n(235),R=n(234),I=n(6),_=n(121),A=n(113),w=n.n(A),x=n(12),G=n(15),L=n(50),C=n(162).default,q={},U=("undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||L.d)(Object(L.a)(C)),D=Object(L.e)((function(e){return e}),U);D.injectReducer=function(e,t){q[e]=t,D.replaceReducer(Object(L.c)(q))};var N,z=function(e){return D.getState()[e]},F=function(e,t){var n=z(e);return D.subscribe((function(){n!==z(e)&&(n=z(e),t(n))}))},P=function(e,t){return"".concat(e,"/").concat(t)},B={isAuthenticated:!1,user:null,auth0Client:null,loading:!0,popupOpen:!1},W=P("auth0","setIsAuthenticated"),M=P("auth0","setUser"),Q=P("auth0","setAuth0"),H=P("auth0","setLoading"),Z=P("auth0","setPopupOpen"),V=(N={},Object(x.a)(N,W,(function(e,t){return Object(G.a)({},e,{isAuthenticated:t})})),Object(x.a)(N,M,(function(e,t){return Object(G.a)({},e,{user:t})})),Object(x.a)(N,Q,(function(e,t){return Object(G.a)({},e,{auth0Client:t})})),Object(x.a)(N,H,(function(e,t){return Object(G.a)({},e,{loading:t})})),Object(x.a)(N,Z,(function(e,t){return Object(G.a)({},e,{popupOpen:t})})),N),J=function(){var e=Object(a.useState)(z("auth0")),t=Object(I.a)(e,2),n=t[0],r=t[1];return Object(a.useLayoutEffect)((function(){return F("auth0",r)}),[r]),n.user},K=function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=z("auth0").auth0Client,e.abrupt("return",t.getTokenSilently(t.options));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=function(e){return D.dispatch({type:M,payload:e})};D.injectReducer("auth0",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;return V[n]?V[n](e,a):e}));var Y,$=function(){return window.history.replaceState({},document.title,window.location.pathname)},ee=r.a.createContext(),te=function(){return Object(a.useContext)(ee)},ne=function(e){var t=e.children,n=e.onRedirectCallback,i=void 0===n?$:n,c=Object(_.a)(e,["children","onRedirectCallback"]),o=Object(a.useState)(),s=Object(I.a)(o,2),d=s[0],f=s[1],m=Object(a.useState)(!0),E=Object(I.a)(m,2),h=E[0],g=E[1],v=Object(a.useState)(!1),p=Object(I.a)(v,2),b=p[0],T=p[1],O=J(),S=function(){var e=Object(a.useState)(z("auth0")),t=Object(I.a)(e,2),n=t[0],r=t[1];return Object(a.useLayoutEffect)((function(){return F("auth0",r)}),[r]),n.auth0Client}();Object(a.useEffect)((function(){(function(){var e=Object(l.a)(u.a.mark((function e(){var t,n,a,r,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w()(c);case 2:if(t=e.sent,u=t,D.dispatch({type:Q,payload:u}),!window.location.search.includes("code=")||!window.location.search.includes("state=")){e.next=10;break}return e.next=7,t.handleRedirectCallback();case 7:n=e.sent,a=n.appState,i(a);case 10:return e.next=12,t.isAuthenticated();case 12:if(r=e.sent,f(r),!r){e.next=19;break}return e.next=17,t.getUser();case 17:o=e.sent,X(o);case 19:g(!1);case 20:case"end":return e.stop()}var u}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var j=function(){var e=Object(l.a)(u.a.mark((function e(){var t,n,a=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},T(!0),e.prev=2,e.next=5,S.loginWithPopup(t);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.error(e.t0);case 10:return e.prev=10,T(!1),e.finish(10);case 13:return e.next=15,S.getUser();case 15:n=e.sent,X(n),f(!0);case 18:case"end":return e.stop()}}),e,null,[[2,7,10,13]])})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.next=3,S.handleRedirectCallback();case 3:return e.next=5,S.getUser();case 5:t=e.sent,g(!1),f(!0),X(t);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(ee.Provider,{value:{isAuthenticated:d,user:O,loading:h,popupOpen:b,loginWithPopup:j,handleRedirectCallback:k,getIdTokenClaims:function(){return S.getIdTokenClaims.apply(S,arguments)},loginWithRedirect:function(){return S.loginWithRedirect.apply(S,arguments)},getTokenSilently:function(){return S.getTokenSilently.apply(S,arguments)},getTokenWithPopup:function(){return S.getTokenWithPopup.apply(S,arguments)},logout:function(){return S.logout.apply(S,arguments)}}},t)},ae=n(47),re=n.n(ae),ie=Object(R.a)((function(e){return{button:{margin:e.spacing(1)},title:{flexGrow:1},offset:e.mixins.toolbar}})),ce=function(){var e=ie(),t=te(),n=t.isAuthenticated,i=t.logout;return r.a.createElement(a.Fragment,null,r.a.createElement(y.a,{position:"fixed"},r.a.createElement(re.a,{style:{backgroundColor:"red",height:"3px",position:"absolute"},maxProgress:95,showFastActions:!1}),r.a.createElement(k.a,null,r.a.createElement(s.a,{variant:"h6",className:e.title},r.a.createElement(f.A,{href:"/",className:"link-no-style text-white"},"quotracker")),n&&r.a.createElement(O.a,null," ",r.a.createElement(d.a,{onClick:function(){return i()},color:"inherit"},"AUSLOGGEN")))),r.a.createElement("div",{className:e.offset}))},oe=n(239),ue=n(267),le=n(240),se=n(237),de=P("dialogs","show"),fe=P("dialogs","hide"),me=P("dialogs","setInfo"),Ee=(Y={},Object(x.a)(Y,de,(function(e,t){return he(e,t,Object(G.a)({},e[t],{show:!0}))})),Object(x.a)(Y,fe,(function(e,t){return he(e,t,Object(G.a)({},e[t],{show:!1}))})),Object(x.a)(Y,me,(function(e,t){var n,a=t.dialogName,r=t.info;return he(e,a,Object(G.a)({},r,{show:null===(n=e[a])||void 0===n?void 0:n.show}))})),Y),he=function(e,t,n){var a=Object.assign({},e);return a[t]=n,a},ge=function(e){return D.dispatch({type:de,payload:e})},ve=function(e){var t;(null===(t=z("dialogs")[e])||void 0===t?void 0:t.show)&&D.dispatch({type:fe,payload:e})},pe=function(e,t){return D.dispatch({type:me,payload:{dialogName:e,info:t}})};D.injectReducer("dialogs",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;return Ee[n]?Ee[n](e,a):e}));var be,Te=function(e){var t=Object(a.useState)(z("dialogs")),n=Object(I.a)(t,2),r=n[0],i=n[1];return Object(a.useLayoutEffect)((function(){return F("dialogs",i)}),[i]),r[e]},Oe=n(238),Se=function(e){var t,n,a=J(),r=(null===a||void 0===a?void 0:a.sub)===(null===e||void 0===e||null===(t=e.owner)||void 0===t?void 0:t.id),i=null===e||void 0===e||null===(n=e.guests)||void 0===n?void 0:n.find((function(e){return e.id===(null===a||void 0===a?void 0:a.sub)}));return{isOwner:r,canSubmitRecords:r||(null===i||void 0===i?void 0:i.canSubmitRecords),canEdit:r||(null===i||void 0===i?void 0:i.canEdit)}},je=Object(R.a)((function(e){return{cardSubheader:{marginBottom:"12px!important"},infoCard:{marginBottom:16}}})),ke=function(e){var t=je(),n=e.id,a=e.targetInfo,i=e.targetUsers,c=Se(i),o=c.isOwner,u=c.canEdit;return r.a.createElement(se.a,{className:t.infoCard},r.a.createElement(Oe.a,{onClick:function(){return h("/target/".concat(n,"/overview"))}},r.a.createElement(oe.a,null,r.a.createElement(s.a,{variant:"h5"},a.title),r.a.createElement(s.a,{variant:"body1"},a.description),r.a.createElement(s.a,{color:"textSecondary",component:"div"},"erstellt von\xa0",r.a.createElement(m.a,{avatar:r.a.createElement(ue.a,null,i.owner.id.substring(0,1).toUpperCase()),label:i.owner.name})))),u&&r.a.createElement(le.a,null,r.a.createElement(d.a,{size:"small",color:"primary",onClick:function(){pe(St,{title:a.title,description:a.description,id:n}),ge(St)}},"bearbeiten"),o&&r.a.createElement(d.a,{size:"small",color:"primary",onClick:function(){pe(Ot,{title:a.title,id:n}),ge(Ot)}},"l\xf6schen")))},ye=n(28),Re={},Ie={MERGE_REPLACE_SHALLOW:P("apiv2","mergeTargets"),MERGE_REPLACE_DEEP_ONLY:P("apiv2","mergeOnTarget"),MERGE_INFO:P("apiv2","mergeInfo"),MERGE_USERS:P("apiv2","mergeUsers"),MERGE_QUOTES:P("apiv2","mergeQuotes"),MERGE_STATS:P("apiv2","mergeStats"),INCREASE_STATS:P("apiv2","increateStats"),DECREASE_STATS:P("apiv2","decreaseStats"),FILTER_OUT_TARGET:P("apiv2","filterOutTarget"),FILTER_OUT_USER:P("apiv2","filterOutUser"),FILTER_OUT_QUOTE:P("apiv2","filterOutQuote")},_e=(be={},Object(x.a)(be,Ie.MERGE_REPLACE_SHALLOW,(function(e,t){return Ae(e,t)})),Object(x.a)(be,Ie.MERGE_REPLACE_DEEP_ONLY,(function(e,t){return Object(ye.a)(e,(function(n){for(var a=0,r=Object.entries(t);a<r.length;a++){var i=Object(I.a)(r[a],2),c=i[0],o=i[1];n[c]=Object(G.a)({},e[c],{},o)}}))})),Object(x.a)(be,Ie.MERGE_INFO,(function(e,t){var n=t.targetId,a=t.info;return Object(ye.a)(e,(function(e){var t;e[n].info=Object(G.a)({},null===(t=e[n])||void 0===t?void 0:t.info,{},a)}))})),Object(x.a)(be,Ie.MERGE_USERS,(function(e,t){var n=t.targetId,a=t.user;return Object(ye.a)(e,(function(e){var t=e[n].users.guests.findIndex((function(e){return e.id===a.id}));t>=0?e[n].users.guests[t]=Object(G.a)({},e[n].users.guests[t],{},a):e[n].users.guests.push(a)}))})),Object(x.a)(be,Ie.MERGE_QUOTES,(function(e,t){var n=t.targetId,a=t.quotes;return Object(ye.a)(e,(function(e){e[n].quotes||(e[n].quotes={});for(var t=0,r=Object.entries(a);t<r.length;t++){var i=Object(I.a)(r[t],2),c=i[0],o=i[1];e[n].quotes[c]=Object(G.a)({},e[n].quotes[c],{},o)}}))})),Object(x.a)(be,Ie.MERGE_STATS,(function(e,t){var n=t.targetId,a=t.stats;return Object(ye.a)(e,(function(e){e[n].stats||(e[n].stats={});for(var t=0,r=Object.entries(a);t<r.length;t++){var i=Object(I.a)(r[t],2),c=i[0],o=i[1];e[n].stats[c]=Object(G.a)({},e[n].stats[c],{},o)}}))})),Object(x.a)(be,Ie.INCREASE_STATS,(function(e,t){var n=t.targetId,a=t.quoteId;return Object(ye.a)(e,(function(e){for(var t=0,r=Object.entries(e[n].stats);t<r.length;t++){var i=Object(I.a)(r[t],1)[0];e[n].stats[i][a]+=1}}))})),Object(x.a)(be,Ie.DECREASE_STATS,(function(e,t){var n=t.targetId,a=t.quoteId;return Object(ye.a)(e,(function(e){if(0!==we(e[n].stats,a))for(var t=0,r=Object.entries(e[n].stats);t<r.length;t++){var i=Object(I.a)(r[t],1)[0];e[n].stats[i][a]-=1}}))})),Object(x.a)(be,Ie.FILTER_OUT_TARGET,(function(e,t){return Object(ye.a)(e,(function(e){delete e[t]}))})),Object(x.a)(be,Ie.FILTER_OUT_USER,(function(e,t){var n=t.targetId,a=t.userId;return Object(ye.a)(e,(function(e){var t=e[n].users.guests.findIndex((function(e){return e.id===a}));t>=0&&e[n].users.guests.splice(t,1)}))})),Object(x.a)(be,Ie.FILTER_OUT_QUOTE,(function(e,t){var n=t.targetId,a=t.quoteId;return Object(ye.a)(e,(function(e){if(delete e[n].quotes[a],e[n].stats)for(var t=0,r=Object.entries(e[n].stats);t<r.length;t++){var i=Object(I.a)(r[t],1)[0];delete e[n].stats[i][a]}}))})),be),Ae=function(e,t){for(var n={},a=0,r=Object.entries(t);a<r.length;a++){var i=Object(I.a)(r[a],2),c=i[0],o=i[1];n[c]=Object(G.a)({},e[c],{},o)}return n},we=function(e,t){for(var n=Number.MAX_SAFE_INTEGER,a=0,r=Object.entries(e);a<r.length;a++){var i=Object(I.a)(r[a],1)[0];e[i][t]<n&&(n=e[i][t])}return n};D.injectReducer("apiv2",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;return _e[n]?_e[n](e,a):e}));var xe,Ge=n(35),Le=n.n(Ge),Ce=n(265),qe=function(e){D.dispatch({type:Ie.MERGE_REPLACE_SHALLOW,payload:e})},Ue=function(e){D.dispatch({type:Ie.MERGE_REPLACE_DEEP_ONLY,payload:e})},De=function(e,t){var n=t.title,a=t.description;D.dispatch({type:Ie.MERGE_INFO,payload:{targetId:e,info:{title:n,description:a}}}),Xe(Ve.PATCH.TARGET_id,{targetId:e,body:{title:n,description:a}})},Ne=n(39),ze=n.n(Ne),Fe=P("errorMessage","set"),Pe=P("errorMessage","clear"),Be=(xe={},Object(x.a)(xe,Fe,(function(e,t){var n=t.message,a=t.scope,r=Object.assign({},e);return r[a]=n,r})),Object(x.a)(xe,Pe,(function(e,t){var n=t.scope,a=Object.assign({},e);return a[n]=null,a})),xe),We={global:null},Me=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"global";return D.dispatch({type:Fe,payload:{message:e,scope:t}})};D.injectReducer("errorMessage",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;return Be[n]?Be[n](e,a):e}));var Qe={MalformedUUID:"Die Target-ID ist ung\xfcltig",MalformedInt:"Ein Anfrage-Parameter ist ung\xfcltig",MalformedTime:"Der Zeitpunkt wurde nicht korrekt \xfcbermittelt",TargetNotFound:"Das Target konnte nicht gefunden werden",TargetTitleTooLong:"Der Titel des Targets ist zu lang",TargetDescriptionTooLong:"Die Beschreibung des Targets ist zu lang",QuoteNotFound:"Der Spruch konnte nicht gefunden werden",QuoteTextTooLong:"Der Spruch ist zu lang",QuoteNotPartOfTarget:"Der Spruch geh\xf6rt nicht zu dem Target",NoRecordsCreated:"Es gibt noch keine Records, die gel\xf6scht werden k\xf6nnten",RecordTooOld:"Der letzte Record ist zu alt, um ihn noch zu l\xf6schen",UserCannotViewTarget:"Du darfst dieses Target nicht ansehen",UserCannotSubmitRecords:"Du darfst keine Records bei diesem Target eintragen",UserCannotEditTarget:"Du darfst dieses Target nicht bearbeiten",UserIsNotOwner:"Das Target kann nur vom Inhaber gel\xf6scht werden",GuestUserNotFound:"Diese Person war nie Teil des Targets",UserNotFound:"Die Person konnte nicht gefunden werden (Email falsch?)",MissingBody:"Anfrage ung\xfcltig (MissingBody)",TooManyBlankFields:"Es d\xfcrfen keine Felder leergelassen werden (TooManyBlankFields)",CannotDeleteSelfFromTarget:"Du kannst dich nicht selbst von diesem Target l\xf6schen",CannotDeleteTargetOwner:"Der Inhaber des Targets kann nicht gel\xf6scht werden",CannotAddOwnerAsGuest:"Der Inhaber des Targets kann nicht als Person hinzugef\xfcgt werden",APIAccessDenied:"Interner API-Zugriffsfehler. Bitte Admin benachrichten",InternalError:"Interner Server-Fehler. Bitte Admin benachrichtigen"},He=function(){return D.dispatch(Object(ae.showLoading)())},Ze=function(){return D.dispatch(Object(ae.hideLoading)())};ze.a.defaults.baseURL="https://quotracker.herokuapp.com/api/v2",ze.a.defaults.timeout=18e3;var Ve={GET:{TARGETS:{url:function(){return"/targets"},handler:function(e){qe(e);for(var t=[],n=[],a=0,r=Object.entries(e);a<r.length;a++){var i=Object(I.a)(r[a],1)[0];t.push(Ve.GET.TARGET_id_USERS),n.push({targetId:i})}Ke(t,n)},shouldShowLoading:function(e){return Object.entries(tt())<=1}},TARGET_id_INFO:{url:function(e){return"/target/".concat(e.targetId,"/info")},handler:function(e){Ue(e)},shouldShowLoading:function(e){var t;return!(null===(t=tt()[e.targetId])||void 0===t?void 0:t.info)}},TARGET_id_USERS:{url:function(e){return"/target/".concat(e.targetId,"/users")},handler:function(e){Ue(e)},shouldShowLoading:function(e){var t;return!(null===(t=tt()[e.targetId])||void 0===t?void 0:t.users)}},TARGET_id_QUOTES:{url:function(e){return"/target/".concat(e.targetId,"/quotes")},handler:function(e){Ue(e)},shouldShowLoading:function(e){var t;return!(null===(t=tt()[e.targetId])||void 0===t?void 0:t.quotes)}},TARGET_id_STATS:{url:function(e){return"/target/".concat(e.targetId,"/stats")},handler:function(e){Ue(e)},shouldShowLoading:function(e){var t;return!(null===(t=tt()[e.targetId])||void 0===t?void 0:t.stats)}},TARGET_id_RECORDS:{url:function(e){return"/target/".concat(e.targetId,"/records")},handler:function(e){Ue(e)},shouldShowLoading:function(e){var t;return!(null===(t=tt()[e.targetId])||void 0===t?void 0:t.records)}},TARGET_id_RECORDS_from_to:{url:function(e){return"/target/".concat(e.targetId,"/records?from=").concat(e.from,"&to=").concat(e.to)},handler:function(e){Ue(e)},shouldShowLoading:function(e){var t;return!(null===(t=tt()[e.targetId])||void 0===t?void 0:t.records)}}},PATCH:{TARGET_id:{method:"patch",url:function(e){return"/target/".concat(e.targetId)},handler:function(e){return Ve.GET.TARGET_id_INFO.handler(e)}},TARGET_id_QUOTE_id:{method:"patch",url:function(e){return"/target/".concat(e.targetId,"/quote/").concat(e.quoteId)},handler:function(e){return Ve.GET.TARGET_id_QUOTES.handler(e)}},TARGET_id_USER_id:{method:"patch",url:function(e){return"/target/".concat(e.targetId,"/user/").concat(e.userId)},handler:function(e){return Ve.GET.TARGET_id_USERS.handler(e)}}},POST:{TARGET:{method:"post",url:function(){return"/target"},handler:function(e,t){Ve.GET.TARGET_id_INFO.handler(e),Ke([Ve.GET.TARGET_id_USERS],{targetId:t})},shouldShowLoading:function(){return!0}},TARGET_id_QUOTE:{method:"post",url:function(e){return"/target/".concat(e.targetId,"/quote")},handler:function(e){return Ve.GET.TARGET_id_QUOTES.handler(e)}},TARGET_id_QUOTE_id:{method:"post",url:function(e){return"/target/".concat(e.targetId,"/quote/").concat(e.quoteId)},handler:function(e){return Ve.GET.TARGET_id_STATS.handler(e)}},TARGET_id_USER:{method:"post",url:function(e){return"/target/".concat(e.targetId,"/user")},handler:function(e){return Ve.GET.TARGET_id_USERS.handler(e)}}},DELETE:{TARGET_id:{method:"delete",url:function(e){return"/target/".concat(e.targetId)},handler:function(e){qe(e)},shouldShowLoading:function(){return!0}},TARGET_id_QUOTE_id:{method:"delete",url:function(e){return"/target/".concat(e.targetId,"/quote/").concat(e.quoteId)},handler:function(e){return Ve.GET.TARGET_id_QUOTES.handler(e)}},TARGET_id_QUOTE_id_RECORD:{method:"delete",url:function(e){return"/target/".concat(e.targetId,"/quote/").concat(e.quoteId,"/record")},handler:function(e){return Ve.GET.TARGET_id_STATS.handler(e)}},TARGET_id_USER_id:{method:"delete",url:function(e){return"/target/".concat(e.targetId,"/user/").concat(e.userId)},handler:function(e){return Ve.GET.TARGET_id_USERS.handler(e)}}}},Je=function(e,t){var n=Array.isArray(t)?t[0].interval:null===t||void 0===t?void 0:t.interval;(!n||n<5)&&(n=100);var a=function(e,t){return e(),setInterval(e,t)}((function(){Ke(e,t)}),1e3*n);return $e("poll subscribe (".concat(a,") using interval ").concat(n)),function(){$e("poll unsubscribe (".concat(a,")")),clearInterval(a)}},Ke=function(e,t){D.dispatch(function(){var n=Object(l.a)(u.a.mark((function n(a){var r,i,c,o,l;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=Array.isArray(t),i=!1,e.forEach((function(e,n){i=i||e.shouldShowLoading&&e.shouldShowLoading(r?t[n]:t)})),i&&He(),n.next=6,K();case 6:c=n.sent,o={headers:{Authorization:"Bearer ".concat(c)}},l=r?e.map((function(e,n){return ze.a.get(e.url(t[n]),o)})):e.map((function(e){return ze.a.get(e.url(t),o)})),ze.a.all(l).then(ze.a.spread((function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];n.forEach((function(t,n){e[n].handler(t.data.data),$e(t.status)})),Ze()}))).catch((function(e){Ye(e),Ze()}));case 10:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())},Xe=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;D.dispatch(function(){var a=Object(l.a)(u.a.mark((function a(r){var i;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return e.shouldShowLoading&&e.shouldShowLoading(t)&&He(),a.next=3,K();case 3:i=a.sent,$e(e.method),$e(e.url(t)),$e(t.body),ze()({method:e.method,url:e.url(t),headers:{Authorization:"Bearer ".concat(i)},data:Object(G.a)({},t.body)}).then((function(t){"post"===e.method?e.handler(t.data.data,t.data.id):e.handler(t.data.data),n&&n(t.data.status),$e(t.status),$e(t.data),Ze()})).catch((function(e){var t,a;n&&n(null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.status),Ye(e),Ze()}));case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())},Ye=function(e){var t,n;if($e("ERROR"),$e(e),$e(JSON.stringify(e.response)),null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.status){var a=Qe[e.response.data.status];Me(a||"Unbekannter Fehler: ".concat(e.response.data.status))}else Me("Es ist ein unbekannter Fehler aufgetreten")},$e=function(e){0},et=function(e){var t=Object(a.useState)(z("apiv2")),n=Object(I.a)(t,2),r=n[0],i=n[1];return Object(a.useLayoutEffect)((function(){return F("apiv2",i)}),[i]),e(r)},tt=function(){return z("apiv2")},nt=n(262),at=n(241),rt=n(242),it=n(243),ct=n(244),ot=function(e){return r.a.createElement(nt.a,{open:e.open,onClose:e.negativeAction},r.a.createElement(at.a,null,e.title),r.a.createElement(rt.a,null,r.a.createElement(it.a,null,e.text)),r.a.createElement(ct.a,null,r.a.createElement(d.a,{onClick:e.negativeAction,color:"primary"},e.negativeText),r.a.createElement(d.a,{onClick:e.positiveAction,color:"primary"},e.positiveText)))},ut=n(258),lt=function(e,t,n){var i=Object(a.useState)(""),c=Object(I.a)(i,2),o=c[0],u=c[1],l=Object(a.useState)(""),s=Object(I.a)(l,2),d=s[0],f=s[1],m=Object(a.useState)(!1),E=Object(I.a)(m,2),h=E[0],g=E[1],v=Object(a.useState)(!1),p=Object(I.a)(v,2),b=p[0],T=p[1],O=Object(a.useState)(""),S=Object(I.a)(O,2),j=S[0],k=S[1],y=Object(a.useState)(""),R=Object(I.a)(y,2),_=R[0],A=R[1];return Object(a.useLayoutEffect)((function(){e&&(u(e.title),f(e.description))}),[e]),{checkSave:function(){return 0===o.length&&(g(!0),k("Titel darf nicht leer sein")),0===d.length&&(T(!0),A("Beschreibung darf nicht leer sein")),o.length>0&&o.length<=t&&d.length>0&&d.length<=n},clearData:function(){u(""),f(""),k(""),A(""),g(!1),T(!1)},title:o,description:d,element:r.a.createElement("div",null,r.a.createElement(ut.a,{autoFocus:!0,fullWidth:!0,error:h,helperText:j,value:o,onChange:function(e){u(e.target.value),g(e.target.value.length>t),e.target.value.length>t?k("Titel darf nicht l\xe4nger als ".concat(t," Zeichen sein")):k("")},label:"Titel des Targets"}),r.a.createElement(ut.a,{fullWidth:!0,multiline:!0,style:{marginTop:16},error:b,helperText:_,value:d,onChange:function(e){f(e.target.value),T(e.target.value.length>n),e.target.value.length>n?A("Beschreibung darf nicht l\xe4nger als ".concat(n," Zeichen sein")):A("")},label:"Beschreibung des Targets"}))}},st=n(30),dt=n(247),ft=function(e){var t=Object(st.a)(),n=Te(e.name),a=Object(dt.a)(t.breakpoints.down("xs")),i=function(){ve(e.name)};return r.a.createElement(nt.a,{open:!!n&&n.show,onClose:i,fullScreen:a,fullWidth:!0},r.a.createElement(at.a,null,e.title),r.a.createElement(rt.a,null,e.form.element),r.a.createElement(ct.a,null,r.a.createElement(d.a,{onClick:i,color:"primary"},"ABBRECHEN"),r.a.createElement(d.a,{onClick:function(){e.form.checkSave()&&(i(),e.saveAction())},color:"primary"},"SPEICHERN")))},mt=function(e){var t=Te(e.name),n=lt(t,e.maxTitleLength,e.maxDescriptionLength);return r.a.createElement(ft,{name:e.name,title:"Target bearbeiten",saveAction:function(){return e.saveAction(t.id,n.title,n.description)},form:n})},Et=n(248),ht=n(115),gt=n.n(ht),vt=n(263),pt=n(249),bt=Object(R.a)({textField:{width:"100%"},button:{float:"right",marginTop:16},spaceAtTop:{marginTop:8},fullWidth:{width:"100%"}}),Tt=function(e){var t=lt(null,e.maxTitleLength,e.maxDescriptionLength),n=bt();return r.a.createElement(vt.a,null,r.a.createElement(Et.a,{expandIcon:r.a.createElement(gt.a,null)},r.a.createElement(s.a,{variant:"body1"},"Neues Target erstellen")),r.a.createElement(pt.a,null,r.a.createElement("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),t.checkSave()&&function(e){var t=e.title,n=e.description,a=Le()().format(),r=Object(Ce.a)();Ue(Object(x.a)({},r,{info:{owner:"Laden...",title:t,description:n,createdOn:a,lastVisited:a}})),Xe(Ve.POST.TARGET,{body:{title:t,description:n}})}({title:t.title,description:t.description}),t.clearData()},className:n.fullWidth},t.element,r.a.createElement(d.a,{type:"submit",variant:"contained",color:"primary",className:n.button},"Erstellen"))))},Ot="target-delete-confirm",St="target-edit",jt=function(){Object(f.useTitle)("Alle Targets - quotracker");var e=(Object(a.useEffect)((function(){return Je([Ve.GET.TARGETS],{interval:30})}),[]),et((function(e){return e}))),t=Te(Ot);return Object(a.useLayoutEffect)((function(){return function(){ve(St),ve(Ot)}}),[]),r.a.createElement(T,null,e&&r.a.createElement("div",null,r.a.createElement(S,{title:"Alle Targets"}),Object.entries(e).map((function(e){var t=Object(I.a)(e,2),n=t[0],a=t[1];return a.users?r.a.createElement(ke,{id:n,targetInfo:a.info,targetUsers:a.users,key:n}):null})),r.a.createElement(Tt,{maxTitleLength:70,maxDescriptionLength:280}),r.a.createElement("p",null),r.a.createElement(mt,{name:St,maxTitleLength:70,maxDescriptionLength:280,saveAction:function(e,t,n){De(e,{title:t,description:n})}}),r.a.createElement(ot,{open:!!t&&t.show,title:"Wirklich l\xf6schen?",text:"Soll das Target '".concat(null===t||void 0===t?void 0:t.title,"' wirklich gel\xf6scht werden? Einmal gel\xf6scht, kann das Target (derzeit) nicht wiederhergestellt werden."),negativeText:"BEHALTEN",positiveText:"L\xd6SCHEN",negativeAction:function(){ve(Ot)},positiveAction:function(){var e;ve(Ot),e=null===t||void 0===t?void 0:t.id,D.dispatch({type:Ie.FILTER_OUT_TARGET,payload:e}),Xe(Ve.DELETE.TARGET_id,{targetId:e})}})))},kt=function(e){return r.a.createElement(s.a,{className:"cs-row"},r.a.createElement(p,{href:e.href},e.text?e.text:"zur\xfcck zur \xdcbersicht"))},yt=n(84),Rt=n.n(yt),It=function(e){return r.a.createElement(S,{title:e.title},e.showEditIcon&&r.a.createElement(g.a,{onClick:function(){pe(St,{title:e.title,description:e.description,id:e.targetId}),ge(St)},style:{marginLeft:16}},r.a.createElement(Rt.a,null)))},_t=n(65),At=n(246),wt=n(250),xt=n(251),Gt=n(252),Lt=n(245),Ct=n(261),qt=function(e){var t=e.targetId,n=e.users,i=e.anchor,c=Te("user-edit-popover"),o=!!(null===c||void 0===c?void 0:c.show)&&c.show,u=Te("user-remove-confirm"),l=Se(n).canEdit,s=Object(a.useState)(!1),f=Object(I.a)(s,2),m=f[0],E=f[1],h=Object(a.useState)(!1),g=Object(I.a)(h,2),v=g[0],p=g[1],b=Object(a.useState)(!1),T=Object(I.a)(b,2),O=T[0],S=T[1];Object(a.useLayoutEffect)((function(){var e,t;null!=c&&c.user&&(null==(null===c||void 0===c||null===(e=c.user)||void 0===e?void 0:e.canSubmitRecords)&&null==(null===c||void 0===c||null===(t=c.user)||void 0===t?void 0:t.canEdit)?(E(!0),p(!0),S(!0)):(E(!1),p(c.user.canSubmitRecords),S(c.user.canEdit)))}),[c,m]),Object(a.useLayoutEffect)((function(){return function(){ve("user-remove-confirm"),j()}}),[]);var j=function(){pe("user-edit-popover",null),ve("user-edit-popover")};return r.a.createElement(a.Fragment,null,r.a.createElement(Lt.a,{open:o,anchorEl:o?i:null,onClose:function(){var e=v!==c.user.canSubmitRecords||O!==c.user.canEdit;!m&&e&&function(e,t){D.dispatch({type:Ie.MERGE_USERS,payload:{targetId:e,user:t}}),Xe(Ve.PATCH.TARGET_id_USER_id,{targetId:e,userId:t.id,body:{canSubmitRecords:t.canSubmitRecords,canEdit:t.canEdit}})}(t,{id:c.user.id,canSubmitRecords:v,canEdit:O}),j()},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement(se.a,null,r.a.createElement(At.a,null,r.a.createElement(wt.a,{key:"canSubmitRecords"},r.a.createElement(xt.a,{primary:"Darf Records eintragen?"}),r.a.createElement(Gt.a,null,r.a.createElement(Ct.a,{edge:"end",checked:v,onChange:function(e){p(e.target.checked),e.target.checked||S(!1)},disabled:m||!l,color:"primary"}))),r.a.createElement(wt.a,{key:"canEdit"},r.a.createElement(xt.a,{primary:"Darf bearbeiten?"}),r.a.createElement(Gt.a,null,r.a.createElement(Ct.a,{edge:"end",checked:O,onChange:function(e){S(e.target.checked),e.target.checked&&p(!0)},disabled:m||!l,color:"primary"})))),r.a.createElement(le.a,null,r.a.createElement(d.a,{color:"secondary",disabled:m||!l,onClick:function(){pe("user-remove-confirm",{user:c.user,targetId:t}),ge("user-remove-confirm")}},"PERSON ENTFERNEN")))),r.a.createElement(ot,{open:!!u&&u.show,title:"Wirklich entfernen?",text:"Soll '".concat(null===u||void 0===u?void 0:u.user.name,"' wirklich vom Target entfernt werden?"),negativeText:"BEHALTEN",positiveText:"L\xd6SCHEN",negativeAction:function(){ve("user-remove-confirm")},positiveAction:function(){ve("user-remove-confirm"),function(e,t){D.dispatch({type:Ie.FILTER_OUT_USER,payload:{targetId:e,userId:t}}),Xe(Ve.DELETE.TARGET_id_USER_id,{targetId:e,userId:t})}(null===u||void 0===u?void 0:u.targetId,null===u||void 0===u?void 0:u.user.id),j()}}))},Ut=n(253),Dt=function(e){var t=e.targetId,n=e.flexBoxClass,i=e.chipClass,c=Object(a.useState)(""),o=Object(I.a)(c,2),u=o[0],l=o[1],s=Object(a.useState)([]),d=Object(I.a)(s,2),f=d[0],E=d[1],h=Object(a.useState)([]),g=Object(I.a)(h,2),v=g[0],p=g[1],b=function(e){f.includes(e)||(E((function(t){return[].concat(Object(_t.a)(t),[e])})),function(e,t,n){Xe(Ve.POST.TARGET_id_USER,{targetId:e,body:Object(G.a)({},t)},n)}(t,{email:e,canSubmitRecords:!1,canEdit:!1},(function(t){"OK"===t?E((function(t){return t.filter((function(t){return t!==e}))})):v.includes(e)||p((function(t){return[].concat(Object(_t.a)(t),[e])}))}))),l("")};return r.a.createElement(a.Fragment,null,r.a.createElement(O.a,{component:"ul",className:n},f.map((function(e){return r.a.createElement(m.a,{key:e,className:i,label:e,color:v.includes(e)?"secondary":"default",avatar:v.includes(e)?null:r.a.createElement(Ut.a,{size:18,color:"inherit",thickness:6}),onDelete:v.includes(e)?function(){E((function(t){return t.filter((function(t){return t!==e}))}))}:null,onClick:function(){l(e),E((function(t){return t.filter((function(t){return t!==e}))}))}})})),r.a.createElement("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),b(u.trim())},style:{flexGrow:1,marginLeft:4}},r.a.createElement(ut.a,{fullWidth:!0,value:u,onChange:function(e){var t=e.target.value;l(t),t.trim().length>2&&t.endsWith(" ")&&b(t.trim())},label:"Personen hinzuf\xfcgen (E-Mail)"}))))},Nt=Object(R.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",listStyle:"none",padding:e.spacing(0),margin:0,alignItems:"flex-end"},chip:{margin:e.spacing(.25)}}})),zt=function(e){var t=Nt(),n=Se(e.users).canEdit;return r.a.createElement(O.a,{component:"ul",className:t.root},e.mergedUsers.map((function(n){var i=n.name,c=i.substring(0,1).toUpperCase();return r.a.createElement(a.Fragment,{key:n.name},r.a.createElement("li",null,r.a.createElement(m.a,{className:t.chip,avatar:r.a.createElement(ue.a,null,c),label:i,onClick:function(t){return e.handleClick(t,n.id)}})))})),n&&r.a.createElement("li",{key:"new",style:{flexGrow:1}},r.a.createElement(Dt,{targetId:e.targetId,flexBoxClass:t.root,chipClass:t.chip})))},Ft=function(e){var t=[e.users.owner].concat(Object(_t.a)(e.users.guests)),n=Object(a.useState)(null),i=Object(I.a)(n,2),c=i[0],o=i[1];return r.a.createElement(a.Fragment,null,r.a.createElement(zt,{targetId:e.targetId,users:e.users,mergedUsers:t,handleClick:function(e,n){o(e.currentTarget),pe("user-edit-popover",{user:t.find((function(e){return e.id===n}))}),ge("user-edit-popover")}}),r.a.createElement(qt,{targetId:e.targetId,users:e.users,anchor:c}))},Pt=function(e){return r.a.createElement(s.a,{variant:"body1",className:"cs-caption"},e.text,e.children)},Bt=function(e){return r.a.createElement(a.Fragment,null,r.a.createElement(It,{targetId:e.targetId,title:e.title,description:e.description,showEditIcon:e.permissions.canEdit}),r.a.createElement(kt,{href:"/alltargets",text:"zur\xfcck zur Liste"}),r.a.createElement(Pt,{text:e.description}),r.a.createElement(Ft,{targetId:e.targetId,users:e.users}))},Wt=function(e){return r.a.createElement(O.a,{className:"cs-button-group"},e.buttons.map((function(e){return r.a.createElement(v,{key:e.href,variant:"outlined",disabled:e.disabled,color:"secondary",href:e.href},e.text)})))},Mt=function(e){return r.a.createElement(a.Fragment,null,r.a.createElement(S,{title:"Zusammenfassung"}),r.a.createElement(Pt,{text:"".concat(e.quotesSummarized.amountQuotes," Spr\xfcche und insgesamt ").concat(e.quotesSummarized.totalRecords," Eintr\xe4ge seit dem ").concat(Le()(e.createdOn).format("L"))}),r.a.createElement(Wt,{buttons:[{href:"./insert",text:"Eintragen",disabled:!e.permissions.canSubmitRecords},{href:"./quotes",text:"Spr\xfcche"}]}))},Qt=function(e){return r.a.createElement(O.a,{className:"page-title-2"},r.a.createElement(s.a,{variant:"h4",component:"h2"},e.title,e.children))},Ht=function(e){return r.a.createElement(s.a,{variant:"body1",style:{marginBottom:16},component:"div"},Object.entries(e.quotes).map((function(e,t){var n=Object(I.a)(e,2),a=n[0],i=n[1];return r.a.createElement("span",{key:t},a,": ",i,r.a.createElement("br",null))})))},Zt=function(e){return r.a.createElement(a.Fragment,null,r.a.createElement(Qt,{title:"Statistik"}),r.a.createElement(Pt,{text:"Heute"}," ",r.a.createElement(v,{variant:"outlined",href:"statistics",size:"small"},"ANZEIGEN")),e.stats&&r.a.createElement(Ht,{quotes:e.stats.today}),r.a.createElement(Pt,{text:"Insgesamt"}," ",r.a.createElement(v,{variant:"outlined",href:"statistics",size:"small"},"ANZEIGEN")),e.stats&&r.a.createElement(Ht,{quotes:e.stats.full}))},Vt=function(e,t){var n=0;return(null===t||void 0===t?void 0:t.full)&&Object.entries(t.full).length>0&&(n=Object.values(t.full).reduce((function(e,t){return e+t}))),{amountQuotes:e?Object.entries(e).length:0,totalRecords:n}},Jt=function(e,t){var n={};if(e&&t)for(var a=0,r=Object.entries(e);a<r.length;a++){var i=Object(I.a)(r[a],2),c=i[0];n[i[1].text]=t[c]}return n},Kt=function(e){var t,n;Object(f.useTitle)("\xdcbersicht - quotracker");var i,c=(i=e.targetId,Object(a.useEffect)((function(){return Je([Ve.GET.TARGET_id_INFO,Ve.GET.TARGET_id_USERS,Ve.GET.TARGET_id_QUOTES,Ve.GET.TARGET_id_STATS],{interval:30,targetId:i})}),[i]),et((function(e){return e[i]}))),o=Se((null===c||void 0===c?void 0:c.users)?c.users:[]);return Object(a.useLayoutEffect)((function(){return function(){ve(St)}}),[]),r.a.createElement(T,null,c&&c.users&&c.info&&c.quotes&&c.stats&&r.a.createElement("div",null,r.a.createElement(Bt,{targetId:e.targetId,title:c.info.title,description:c.info.description,users:c.users?c.users:[],permissions:o}),r.a.createElement(Mt,{createdOn:c.info.createdOn,permissions:o,quotesSummarized:Vt(c.quotes,c.stats)}),r.a.createElement(Zt,{stats:{today:Jt(c.quotes,null===(t=c.stats)||void 0===t?void 0:t.today),full:Jt(c.quotes,null===(n=c.stats)||void 0===n?void 0:n.full)}}),r.a.createElement(mt,{name:St,maxTitleLength:70,maxDescriptionLength:280,saveAction:function(e,t,n){De(e,{title:t,description:n})}})))},Xt=n(254),Yt=function(e){var t=e.targetId,n=e.quoteId,a=e.quote.text,i=e.quote.count;return r.a.createElement(Xt.a,{container:!0,item:!0,xs:12,spacing:3,direction:"row",justify:"flex-start",alignItems:"center"},r.a.createElement(Xt.a,{item:!0,xs:9,sm:7,md:5},r.a.createElement(d.a,{size:"large",variant:"outlined",color:"primary",onClick:function(){return function(e,t){D.dispatch({type:Ie.INCREASE_STATS,payload:{targetId:e,quoteId:t}}),Xe(Ve.POST.TARGET_id_QUOTE_id,{targetId:e,quoteId:t})}(t,n)}},a)),r.a.createElement(Xt.a,{item:!0,xs:1},r.a.createElement(s.a,{variant:"body1",component:"div"},i)),r.a.createElement(Xt.a,{item:!0,xs:2,md:1},r.a.createElement(d.a,{variant:"text",onClick:function(){return function(e,t){D.dispatch({type:Ie.DECREASE_STATS,payload:{targetId:e,quoteId:t}}),Xe(Ve.DELETE.TARGET_id_QUOTE_id_RECORD,{targetId:e,quoteId:t})}(t,n)}},"( -1 )")))},$t=function(e){return r.a.createElement(Xt.a,{container:!0,spacing:2,direction:"row",justify:"flex-start",alignItems:"flex-start"},e.quotes&&Object.entries(e.quotes).map((function(t){var n=Object(I.a)(t,2),a=n[0],i=n[1];return r.a.createElement(Yt,{key:a,targetId:e.targetId,quoteId:a,quote:i})})))},en=function(e){Object(f.useTitle)("Eintragen - quotracker");var t=function(e){Object(a.useEffect)((function(){var t=Je([Ve.GET.TARGET_id_QUOTES],{interval:30,targetId:e}),n=Je([Ve.GET.TARGET_id_STATS],{interval:10,targetId:e});return function(){t(),n()}}),[e]);var t=et((function(t){return t[e]})),n={};if((null===t||void 0===t?void 0:t.stats)&&(null===t||void 0===t?void 0:t.quotes))for(var r=0,i=Object.entries(t.stats.today);r<i.length;r++){var c=Object(I.a)(i[r],2),o=c[0],u=c[1];n[o]={text:t.quotes[o].text,count:u}}return{today:n}}(e.targetId);return r.a.createElement(T,null,r.a.createElement(S,{title:"Eintragen"}),r.a.createElement(kt,{href:"./overview"}),t&&r.a.createElement($t,{targetId:e.targetId,quotes:t.today}))},tn=n(116),nn=n.n(tn),an=function(e){return r.a.createElement(wt.a,null,r.a.createElement(xt.a,{primary:e.text}),r.a.createElement(Gt.a,null,e.showEdit&&r.a.createElement(g.a,{onClick:function(){pe(fn,{quote:e.text,id:e.id}),ge(fn)}},r.a.createElement(Rt.a,null)),e.showDelete&&r.a.createElement(g.a,{onClick:function(){pe(dn,{quote:e.text,id:e.id}),ge(dn)}},r.a.createElement(nn.a,null))))},rn=n(255),cn=function(e){return r.a.createElement(At.a,null,Object.entries(e.quotes).map((function(t){var n=Object(I.a)(t,2),a=n[0],i=n[1];return r.a.createElement("div",{key:a},r.a.createElement(rn.a,null),r.a.createElement(an,{id:a,text:i.text,showEdit:e.canEdit,showDelete:e.canEdit}))})),r.a.createElement(rn.a,null))},on=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"outlined",c=Object(a.useState)(""),o=Object(I.a)(c,2),u=o[0],l=o[1],s=Object(a.useState)(!1),d=Object(I.a)(s,2),f=d[0],m=d[1],E=Object(a.useState)(""),h=Object(I.a)(E,2),g=h[0],v=h[1],p=function(e){l(e.target.value),m(e.target.value.length>t),e.target.value.length>t?v("Spruch darf nicht l\xe4nger als ".concat(t," Zeichen sein")):v("")},b=function(){return 0===u.length&&(m(!0),v("Spruch darf nicht leer sein")),u.length>0&&u.length<=t&&(l(""),!0)};return Object(a.useLayoutEffect)((function(){e&&l(e.quote)}),[e]),{checkSave:b,quote:u,element:r.a.createElement(ut.a,{label:n,variant:i,fullWidth:!0,size:"small",error:f,helperText:g,value:u,onChange:p})}},un=Object(R.a)({textField:{width:"100%"},button:{float:"right"},spaceAtTop:{marginTop:8}}),ln=function(e){var t=un(),n=on(null,e.maxQuoteLength,"Neuen Spruch hinzuf\xfcgen");return r.a.createElement("form",{noValidate:!0,autoComplete:"off",onSubmit:function(t){t.preventDefault(),n.checkSave()&&e.onCheckedConfirm(n.quote)},className:t.spaceAtTop},r.a.createElement(Xt.a,{container:!0,spacing:2,direction:"row",alignItems:"flex-start",justify:"space-between"},r.a.createElement(Xt.a,{item:!0,xs:!0,key:"text-field"},n.element),r.a.createElement(Xt.a,{item:!0,xs:12,sm:3,md:2,key:"button"},r.a.createElement(d.a,{type:"submit",variant:"contained",color:"primary",className:t.button},"Hinzuf\xfcgen"))))},sn=function(e){var t=Te(e.name),n=on(t,e.maxQuoteLength);return r.a.createElement(ft,{name:e.name,title:"Spruche bearbeiten",saveAction:function(){return e.saveAction(t.id,n.quote)},form:n})},dn="quote-delete-confirm",fn="quote-edit",mn=function(e){Object(f.useTitle)("Spr\xfcche - quotracker");var t,n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15;return Object(a.useEffect)((function(){return Je([Ve.GET.TARGET_id_QUOTES],{interval:t,targetId:e})}),[t,e]),et((function(t){var n;return null===(n=t[e])||void 0===n?void 0:n.quotes}))}(e.targetId),i=Te(dn),c=(t=e.targetId,Object(a.useEffect)((function(){return Je([Ve.GET.TARGET_id_USERS],{interval:30,targetId:t})}),[t]),et((function(e){var n;return null===(n=e[t])||void 0===n?void 0:n.users}))),o=Se(c);return Object(a.useLayoutEffect)((function(){return function(){ve(fn),ve(dn)}}),[]),r.a.createElement(T,null,r.a.createElement(S,{title:"Spr\xfcche"}),r.a.createElement(kt,{href:"overview"}),n&&r.a.createElement(cn,{quotes:n,canEdit:o.canEdit}),r.a.createElement(ot,{open:!!i&&i.show,title:"Wirklich l\xf6schen?",text:"Soll der Spruch '".concat(null===i||void 0===i?void 0:i.quote,"' wirklich gel\xf6scht werden? Einmal gel\xf6scht, kann ein Spruch (derzeit) nicht wiederhergestellt werden!"),negativeText:"BEHALTEN",positiveText:"L\xd6SCHEN",negativeAction:function(){ve(dn)},positiveAction:function(){ve(dn),function(e,t){D.dispatch({type:Ie.FILTER_OUT_QUOTE,payload:{targetId:e,quoteId:t}}),Xe(Ve.DELETE.TARGET_id_QUOTE_id,{targetId:e,quoteId:t})}(e.targetId,null===i||void 0===i?void 0:i.id)}}),r.a.createElement(sn,{name:fn,maxQuoteLength:100,saveAction:function(t,n){!function(e,t,n){D.dispatch({type:Ie.MERGE_QUOTES,payload:{targetId:e,quotes:Object(x.a)({},t,{text:n})}}),Xe(Ve.PATCH.TARGET_id_QUOTE_id,{targetId:e,quoteId:t,body:{text:n}})}(e.targetId,t,n)}}),o.canEdit&&r.a.createElement(ln,{maxQuoteLength:100,onCheckedConfirm:function(t){return function(e,t){var n=Le()(),a=n.valueOf();D.dispatch({type:Ie.MERGE_QUOTES,payload:{targetId:e,quotes:Object(x.a)({},a,{text:t,createdOn:n.format()})}}),Xe(Ve.POST.TARGET_id_QUOTE,{targetId:e,body:{text:t}})}(e.targetId,t)}}))},En=function(e){return Object(f.useTitle)("Statistik - quotracker"),r.a.createElement(T,null,r.a.createElement(S,{title:"Statistik"}),r.a.createElement(kt,{href:"overview"}),r.a.createElement(s.a,{variant:"body1"},"Hier wird in der n\xe4chsten Version die Statistik aller Spr\xfcche zu sehen sein."))},hn={"/:tid":function(e){var t=e.tid;Object(f.navigate)("".concat(t,"/overview"),!0)},"/:tid/overview":function(e){var t=e.tid;return r.a.createElement(Kt,{targetId:t})},"/:tid/insert":function(e){var t=e.tid;return r.a.createElement(en,{targetId:t})},"/:tid/quotes":function(e){var t=e.tid;return r.a.createElement(mn,{targetId:t})},"/:tid/statistics":function(e){var t=e.tid;return r.a.createElement(En,{targetId:t})}},gn=function(){return Object(f.useRoutes)(hn)||r.a.createElement(j,null)},vn=(n(184),n(260)),pn=n(256),bn=function(e){var t=e.term,n=e.children;return r.a.createElement("li",null,r.a.createElement(s.a,{variant:"body1"},r.a.createElement(s.a,{variant:"button"},t)," \u2013 ",n))},Tn=function(){Object(f.useTitle)("Home - quotracker");var e=te(),t=e.isAuthenticated,n=e.loginWithRedirect,i=e.user,c=r.a.createElement(a.Fragment,null,r.a.createElement(Qt,{title:"Begriffe"}),r.a.createElement("ul",null,r.a.createElement(bn,{term:"Spruch"},"Versteht sich von selbst:",r.a.createElement("i",null,'Eine Floskel/ein Satz(-teil), den dein Prof oder Lehrer h\xe4ufig sagt, z. B. "Verstehen Sie?"')),r.a.createElement(bn,{term:"Target"},"Ein Target bei quotracker ist eine Person oder Gruppe an Personen, deren Spr\xfcche du tracken m\xf6chtest. Du kannst so viele Targets anlegen, wie du willst."),r.a.createElement(bn,{term:"Record"},"Ein Record wird angelegt, wenn dein Prof/Lehrer einen Spruch sagt und du auf den entsprechenden Button klickst. Wenn du f\xe4lschlicherweise auf einen Button geklickt hast, kannst du den dadurch entstandenen Record f\xfcr eine kurze noch wieder l\xf6schen.")),r.a.createElement(Qt,{title:"Geschichte"}),r.a.createElement(s.a,{variant:"body1",gutterBottom:!0},'Die Idee f\xfcr eine solche App kam im 3. Semester meines Studiums auf. Wir hatten einen Prof, der extrem h\xe4ufig "Verstehen Sie?" oder "Verstehen Sie das?" sagte. Nachdem wir eine Strichliste gef\xfchrt hatten und er diesen Spruch 45 mal in 90 Minuten gesagt hatte, beschlossen wir, eine kleine Webseite zu schreiben. Diese h\xe4tte f\xfcr jeden Spruch einen Button und beim Dr\xfccken w\xfcrde in einer Datenbank ein Datensatz mit dem Spruch und der aktuellen Zeit angelegt werden. Gesagt getan, ich schrieb mit HTML und PHP eine kleine, ganz einfache Webseite und in der n\xe4chsten Vorlesung dr\xfcckten wir flei\xdfig auf den Button.'),r.a.createElement(s.a,{variant:"body1",gutterBottom:!0},"Sp\xe4ter f\xfchrten wir dann noch eine weitere Seite ein, die automatisch die Datens\xe4tze aus der Datenbank lud und als Diagramm darstellte. Einige Wochen sp\xe4ter kam dann auch noch eine Live-Statistik dazu, aber um mehr erweiterte ich die wirklich grauenvoll geschriebene Seite nicht."),r.a.createElement(s.a,{variant:"body1",gutterBottom:!0},"In den Semesterferien zwischen den Klausuren im Wintersemester 2019/20 und dem Beginn des Sommersemesters 2020 begann ich w\xe4hrend des Corona-Lockdowns die Webseite als App neu zu schreiben, da es von mehreren Seiten Interesse an einer solchen App gab. Dieses mal w\xfcrde ich allerdings eine Web-App realisieren, bestehend aus Backend-Server und dieser Frontend-App. Und genau dort sind wir gerade."),r.a.createElement("br",null),r.a.createElement(s.a,{variant:"h5",component:"h3"},"F\xfcr die Technik-interessierten"),r.a.createElement("ul",null,r.a.createElement(bn,{term:"Server"},"geschrieben in Kotlin mit ",r.a.createElement(E.a,{href:"https://ktor.io/"},"ktor")," und ",r.a.createElement(E.a,{href:"https://github.com/JetBrains/Exposed"},"Jetbrains Exposed")),r.a.createElement(bn,{term:"App"},"geschrieben in Javascript mit ",r.a.createElement(E.a,{href:"https://reactjs.org/"},"React")," und vielen kleineren Packeten."))),o=r.a.createElement(a.Fragment,null,r.a.createElement(S,{title:"Hallo, ".concat((null===i||void 0===i?void 0:i.given_name)?null===i||void 0===i?void 0:i.given_name:null===i||void 0===i?void 0:i.name,"!")}),r.a.createElement(v,{variant:"contained",color:"primary",href:"/alltargets"},"ZU DEINEN TARGETS"),r.a.createElement("p",null),r.a.createElement(vn.a,{variant:"standard",severity:"warning"},r.a.createElement(pn.a,null,"Hinweis"),"Aufgrund der aktuellen Serverkonfiguration kann es bei erstmaligem Dr\xfccken auf ",r.a.createElement(s.a,{variant:"button"},"Zu deinen Targets")," zu ",r.a.createElement("strong",null,"Ladezeiten von 10 bis 20 Sekunden")," kommen, bitte hab Geduld. Falls doch ein Fehler auftreten sollte, bitte die Seite einmal neu laden."),r.a.createElement("p",null),r.a.createElement(s.a,{variant:"body1"},"Willkommen bei quotracker, die App, um die Floskeln deiner Profs und Lehrer zu tracken und zu schauen, wann und wie oft sie diese sagen. Klick einfach auf ",r.a.createElement("i",null,"Zu deinen Targets"),", um loszulegen, oder mach dich erstmal mit den Begriffen vertraut.")),u=r.a.createElement(a.Fragment,null,r.a.createElement(S,{title:"quotracker"}),r.a.createElement(s.a,{variant:"subtitle1"},r.a.createElement("i",null,"...Track die Spr\xfcche deiner Profs und Lehrer...")),r.a.createElement(s.a,{variant:"body1",gutterBottom:!0},"Willkommen bei quotracker, die App, um die Floskeln deiner Profs und Lehrer zu tracken und zu schauen, wann und wie oft sie diese sagen. Melde dich an oder registriere dich, um loszulegen, oder mach dich erstmal mit den Begriffen und der Geschichte von quotracker vertraut."),r.a.createElement("br",null),r.a.createElement(d.a,{variant:"contained",color:"primary",onClick:function(){return n()}},"Anmelden / Registrieren")),l=t?o:u;return r.a.createElement(T,null,l,c)},On=function(){return Object(f.useTitle)("Logout - quotracker"),r.a.createElement(T,null,r.a.createElement(S,{title:"Ausgeloggt"}),r.a.createElement(s.a,{variant:"body1",style:{marginBottom:12}},"Du hast dich erfolgreich ausgeloggt!"),r.a.createElement(v,{variant:"contained",color:"primary",href:"/"},"Zur Startseite"))},Sn=n(120),jn=n(119),kn=n.n(jn),yn=n(257),Rn=n(118),In=n.n(Rn),_n=function(){return r.a.createElement("div",{style:{position:"fixed",left:"50%",top:"50%",transform:"translate(-50%, -50%)"}},r.a.createElement(s.a,{variant:"h3",component:"h1",className:"animated-dots"},"Einloggen",r.a.createElement("span",null,"."),r.a.createElement("span",null,"."),r.a.createElement("span",null,".")))},An=n(264),wn=n(117),xn=n.n(wn);function Gn(e){return r.a.createElement(vn.a,Object.assign({elevation:6,variant:"filled"},e))}var Ln=function(e){var t=e.errorState,n=e.useAlert,i=void 0===n||n,c=e.severity,o=void 0===c?"error":c,u=(e.actionName,e.action),l=void 0===u?null:u,s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"global",t=Object(a.useState)(z("errorMessage")),n=Object(I.a)(t,2),r=n[0],i=n[1];return Object(a.useLayoutEffect)((function(){return F("errorMessage",i)}),[i]),r[e]}(t),f=s,m=!!s,E=Object(a.useState)(""),h=Object(I.a)(E,2),v=h[0],p=h[1],b=function(e,n){"clickaway"!==n&&m&&function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"global";D.dispatch({type:Pe,payload:{scope:e}})}(t)},T=null;return i&&(T=r.a.createElement(Gn,{severity:o,onClose:b},v)),Object(a.useLayoutEffect)((function(){f&&p(f)}),[f]),r.a.createElement(An.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:m,autoHideDuration:6e3,message:l&&v,onClose:b,action:l&&r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{color:"secondary",size:"small",onClick:l},"UNDO"),r.a.createElement(g.a,{size:"small","aria-label":"close",color:"inherit",onClick:b},r.a.createElement(xn.a,{fontSize:"small"})))},T)},Cn=Object(Sn.a)({palette:{primary:In.a,secondary:kn.a}}),qn={"/":function(){return r.a.createElement(Tn,null)},"/alltargets":function(){return r.a.createElement(jt,null)},"/target*":function(){return r.a.createElement(gn,null)},"/logout":function(){return r.a.createElement(On,null)}},Un=["","/","/logout","/404","".concat("/quotracker"),"".concat("/quotracker","/logout"),"".concat("/quotracker","/404")],Dn=function(){var e=Object(f.usePath)(),t=te(),n=t.loading,i=t.isAuthenticated,c=t.loginWithRedirect;Object(a.useEffect)((function(){n||i||Un.includes(e)||function(){var e=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c({appState:{targetUrl:window.location.pathname}});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[n,i,c,e]);var o=Object(f.useRoutes)(qn);return n?r.a.createElement(yn.a,{theme:Cn},r.a.createElement(_n,null)):r.a.createElement(yn.a,{theme:Cn},r.a.createElement(ce,null),r.a.createElement(Ln,{errorState:"global"}),o||r.a.createElement(j,null),r.a.createElement(s.a,{variant:"body2",style:{position:"fixed",left:0,bottom:0,color:"#ccc"}},"Version ","0.6.12"))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Nn=n(70);n(185);Object(f.setBasepath)("/quotracker");var zn;D.injectReducer("loadingBar",ae.loadingBarReducer),Le()().locale("de"),zn=n(186),c.a.render(r.a.createElement(Nn.Provider,{store:D},r.a.createElement(ne,{domain:zn.domain,client_id:zn.clientId,redirect_uri:"".concat(window.location.origin,"/quotracker"),audience:zn.audience,onRedirectCallback:function(e){Object(f.navigate)(e&&e.targetUrl?e.targetUrl:window.location.pathname)}},r.a.createElement(Dn,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[142,1,2]]]);
//# sourceMappingURL=main.0e39350c.chunk.js.map