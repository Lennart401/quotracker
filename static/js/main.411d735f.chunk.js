(this.webpackJsonpsloddilabertv2=this.webpackJsonpsloddilabertv2||[]).push([[0],{141:function(e,t,n){e.exports=n(185)},183:function(e,t,n){},185:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(14),c=n.n(i),o=n(17),u=n.n(o),l=n(26),s=n(49),d=n(229),f=n(11),E=n(264),m=n(231),g=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];setTimeout((function(){return f.navigate.apply(void 0,t)}),100)},h=n(188),v=function(e){return r.a.createElement(d.a,Object.assign({},e,{onClick:function(t){t.preventDefault(),g(e.href)}}),e.children)},p=function(e){return r.a.createElement(m.a,Object.assign({},e,{onClick:function(t){t.preventDefault(),Object(f.navigate)(e.href)}}))},b=n(232),T=function(e){return r.a.createElement(b.a,{maxWidth:"md"},e.children?e.children:r.a.createElement("div",null))},O=n(257),S=function(e){return r.a.createElement(O.a,{className:"page-title"},r.a.createElement(s.a,{variant:"h3",component:"h1"},e.title,e.children))},j=function(){return Object(f.useTitle)("404 - Nicht gefunden - SLv2"),r.a.createElement(T,null,r.a.createElement(S,{title:"404 - Seite nicht gefunden"}),r.a.createElement(s.a,{variant:"body1",style:{marginBottom:12}},"Sorry, die angeforderte Seite wurde leider nicht gefunden :/"),r.a.createElement(v,{variant:"contained",color:"primary",href:"/"},"Zur Startseite")," ")},R=n(235),I=n(234),y=n(233),_=n(6),A=n(122),w=n(114),k=n.n(w),x=n(12),G=n(15),C=n(48),L=n(161).default,U={},N=("undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||C.d)(Object(C.a)(L)),q=Object(C.e)((function(e){return e}),N);q.injectReducer=function(e,t){U[e]=t,q.replaceReducer(Object(C.c)(U))};var D,F=function(e){return q.getState()[e]},P=function(e,t){var n=F(e);return q.subscribe((function(){n!==F(e)&&(n=F(e),t(n))}))},z=function(e,t){return"".concat(e,"/").concat(t)},Q={isAuthenticated:!1,user:null,auth0Client:null,loading:!0,popupOpen:!1},M=z("auth0","setIsAuthenticated"),B=z("auth0","setUser"),W=z("auth0","setAuth0"),H=z("auth0","setLoading"),Z=z("auth0","setPopupOpen"),V=(D={},Object(x.a)(D,M,(function(e,t){return Object(G.a)({},e,{isAuthenticated:t})})),Object(x.a)(D,B,(function(e,t){return Object(G.a)({},e,{user:t})})),Object(x.a)(D,W,(function(e,t){return Object(G.a)({},e,{auth0Client:t})})),Object(x.a)(D,H,(function(e,t){return Object(G.a)({},e,{loading:t})})),Object(x.a)(D,Z,(function(e,t){return Object(G.a)({},e,{popupOpen:t})})),D),J=function(){var e=Object(a.useState)(F("auth0")),t=Object(_.a)(e,2),n=t[0],r=t[1];return Object(a.useLayoutEffect)((function(){return P("auth0",r)}),[r]),n.user},X=function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=F("auth0").auth0Client,e.abrupt("return",t.getTokenSilently(t.options));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(e){return q.dispatch({type:B,payload:e})};q.injectReducer("auth0",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;return V[n]?V[n](e,a):e}));var K,$=function(){return window.history.replaceState({},document.title,window.location.pathname)},ee=r.a.createContext(),te=function(){return Object(a.useContext)(ee)},ne=function(e){var t=e.children,n=e.onRedirectCallback,i=void 0===n?$:n,c=Object(A.a)(e,["children","onRedirectCallback"]),o=Object(a.useState)(),s=Object(_.a)(o,2),d=s[0],f=s[1],E=Object(a.useState)(!0),m=Object(_.a)(E,2),g=m[0],h=m[1],v=Object(a.useState)(!1),p=Object(_.a)(v,2),b=p[0],T=p[1],O=J(),S=function(){var e=Object(a.useState)(F("auth0")),t=Object(_.a)(e,2),n=t[0],r=t[1];return Object(a.useLayoutEffect)((function(){return P("auth0",r)}),[r]),n.auth0Client}();Object(a.useEffect)((function(){(function(){var e=Object(l.a)(u.a.mark((function e(){var t,n,a,r,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k()(c);case 2:if(t=e.sent,u=t,q.dispatch({type:W,payload:u}),!window.location.search.includes("code=")||!window.location.search.includes("state=")){e.next=10;break}return e.next=7,t.handleRedirectCallback();case 7:n=e.sent,a=n.appState,i(a);case 10:return e.next=12,t.isAuthenticated();case 12:if(r=e.sent,f(r),!r){e.next=19;break}return e.next=17,t.getUser();case 17:o=e.sent,Y(o);case 19:h(!1);case 20:case"end":return e.stop()}var u}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var j=function(){var e=Object(l.a)(u.a.mark((function e(){var t,n,a=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},T(!0),e.prev=2,e.next=5,S.loginWithPopup(t);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.error(e.t0);case 10:return e.prev=10,T(!1),e.finish(10);case 13:return e.next=15,S.getUser();case 15:n=e.sent,Y(n),f(!0);case 18:case"end":return e.stop()}}),e,null,[[2,7,10,13]])})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,S.handleRedirectCallback();case 3:return e.next=5,S.getUser();case 5:t=e.sent,h(!1),f(!0),Y(t);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(ee.Provider,{value:{isAuthenticated:d,user:O,loading:g,popupOpen:b,loginWithPopup:j,handleRedirectCallback:R,getIdTokenClaims:function(){return S.getIdTokenClaims.apply(S,arguments)},loginWithRedirect:function(){return S.loginWithRedirect.apply(S,arguments)},getTokenSilently:function(){return S.getTokenSilently.apply(S,arguments)},getTokenWithPopup:function(){return S.getTokenWithPopup.apply(S,arguments)},logout:function(){return S.logout.apply(S,arguments)}}},t)},ae=n(32),re=n.n(ae),ie=Object(y.a)((function(e){return{button:{margin:e.spacing(1)},title:{flexGrow:1},offset:e.mixins.toolbar}})),ce=function(){var e=ie(),t=te(),n=t.isAuthenticated,i=t.logout;return r.a.createElement(a.Fragment,null,r.a.createElement(I.a,{position:"fixed"},r.a.createElement(re.a,{style:{backgroundColor:"red",height:"3px",position:"absolute"},maxProgress:95,showFastActions:!1}),r.a.createElement(R.a,null,r.a.createElement(s.a,{variant:"h6",className:e.title},r.a.createElement(f.A,{href:"/",className:"link-no-style text-white"},"SLv2")),n&&r.a.createElement(O.a,null," ",r.a.createElement(d.a,{onClick:function(){return i()},color:"inherit"},"AUSLOGGEN")))),r.a.createElement("div",{className:e.offset}))},oe=n(238),ue=n(265),le=n(239),se=n(236),de=z("dialogs","show"),fe=z("dialogs","hide"),Ee=z("dialogs","setInfo"),me=(K={},Object(x.a)(K,de,(function(e,t){return ge(e,t,Object(G.a)({},e[t],{show:!0}))})),Object(x.a)(K,fe,(function(e,t){return ge(e,t,Object(G.a)({},e[t],{show:!1}))})),Object(x.a)(K,Ee,(function(e,t){var n,a=t.dialogName,r=t.info;return ge(e,a,Object(G.a)({},r,{show:null===(n=e[a])||void 0===n?void 0:n.show}))})),K),ge=function(e,t,n){var a=Object.assign({},e);return a[t]=n,a},he=function(e){return q.dispatch({type:de,payload:e})},ve=function(e){var t;(null===(t=F("dialogs")[e])||void 0===t?void 0:t.show)&&q.dispatch({type:fe,payload:e})},pe=function(e,t){return q.dispatch({type:Ee,payload:{dialogName:e,info:t}})};q.injectReducer("dialogs",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;return me[n]?me[n](e,a):e}));var be,Te=function(e){var t=Object(a.useState)(F("dialogs")),n=Object(_.a)(t,2),r=n[0],i=n[1];return Object(a.useLayoutEffect)((function(){return P("dialogs",i)}),[i]),r[e]},Oe=n(237),Se=function(e){var t,n,a=J(),r=(null===a||void 0===a?void 0:a.sub)===(null===e||void 0===e||null===(t=e.owner)||void 0===t?void 0:t.id),i=null===e||void 0===e||null===(n=e.guests)||void 0===n?void 0:n.find((function(e){return e.id===(null===a||void 0===a?void 0:a.sub)}));return{isOwner:r,canSubmitRecords:r||(null===i||void 0===i?void 0:i.canSubmitRecords),canEdit:r||(null===i||void 0===i?void 0:i.canEdit)}},je=Object(y.a)((function(e){return{cardSubheader:{marginBottom:"12px!important"},infoCard:{marginBottom:16}}})),Re=function(e){var t=je(),n=e.id,a=e.targetInfo,i=e.targetUsers,c=Se(i),o=c.isOwner,u=c.canEdit;return r.a.createElement(se.a,{className:t.infoCard},r.a.createElement(Oe.a,{onClick:function(){return g("/target/".concat(n,"/overview"))}},r.a.createElement(oe.a,null,r.a.createElement(s.a,{variant:"h5"},a.title),r.a.createElement(s.a,{variant:"body1"},a.description),r.a.createElement(s.a,{color:"textSecondary",component:"div"},"erstellt von\xa0",r.a.createElement(E.a,{avatar:r.a.createElement(ue.a,null,i.owner.id.substring(0,1).toUpperCase()),label:i.owner.name})))),u&&r.a.createElement(le.a,null,r.a.createElement(d.a,{size:"small",color:"primary",onClick:function(){pe(St,{title:a.title,description:a.description,id:n}),he(St)}},"bearbeiten"),o&&r.a.createElement(d.a,{size:"small",color:"primary",onClick:function(){pe(Ot,{title:a.title,id:n}),he(Ot)}},"l\xf6schen")))},Ie=n(28),ye={},_e={MERGE_REPLACE_SHALLOW:z("apiv2","mergeTargets"),MERGE_REPLACE_DEEP_ONLY:z("apiv2","mergeOnTarget"),MERGE_INFO:z("apiv2","mergeInfo"),MERGE_USERS:z("apiv2","mergeUsers"),MERGE_QUOTES:z("apiv2","mergeQuotes"),MERGE_STATS:z("apiv2","mergeStats"),INCREASE_STATS:z("apiv2","increateStats"),DECREASE_STATS:z("apiv2","decreaseStats"),FILTER_OUT_TARGET:z("apiv2","filterOutTarget"),FILTER_OUT_USER:z("apiv2","filterOutUser"),FILTER_OUT_QUOTE:z("apiv2","filterOutQuote")},Ae=(be={},Object(x.a)(be,_e.MERGE_REPLACE_SHALLOW,(function(e,t){return we(e,t)})),Object(x.a)(be,_e.MERGE_REPLACE_DEEP_ONLY,(function(e,t){return Object(Ie.a)(e,(function(n){for(var a=0,r=Object.entries(t);a<r.length;a++){var i=Object(_.a)(r[a],2),c=i[0],o=i[1];n[c]=Object(G.a)({},e[c],{},o)}}))})),Object(x.a)(be,_e.MERGE_INFO,(function(e,t){var n=t.targetId,a=t.info;return Object(Ie.a)(e,(function(e){var t;e[n].info=Object(G.a)({},null===(t=e[n])||void 0===t?void 0:t.info,{},a)}))})),Object(x.a)(be,_e.MERGE_USERS,(function(e,t){var n=t.targetId,a=t.user;return Object(Ie.a)(e,(function(e){var t=e[n].users.guests.findIndex((function(e){return e.id===a.id}));t>=0?e[n].users.guests[t]=Object(G.a)({},e[n].users.guests[t],{},a):e[n].users.guests.push(a)}))})),Object(x.a)(be,_e.MERGE_QUOTES,(function(e,t){var n=t.targetId,a=t.quotes;return Object(Ie.a)(e,(function(e){e[n].quotes||(e[n].quotes={});for(var t=0,r=Object.entries(a);t<r.length;t++){var i=Object(_.a)(r[t],2),c=i[0],o=i[1];e[n].quotes[c]=Object(G.a)({},e[n].quotes[c],{},o)}}))})),Object(x.a)(be,_e.MERGE_STATS,(function(e,t){var n=t.targetId,a=t.stats;return Object(Ie.a)(e,(function(e){e[n].stats||(e[n].stats={});for(var t=0,r=Object.entries(a);t<r.length;t++){var i=Object(_.a)(r[t],2),c=i[0],o=i[1];e[n].stats[c]=Object(G.a)({},e[n].stats[c],{},o)}}))})),Object(x.a)(be,_e.INCREASE_STATS,(function(e,t){var n=t.targetId,a=t.quoteId;return Object(Ie.a)(e,(function(e){for(var t=0,r=Object.entries(e[n].stats);t<r.length;t++){var i=Object(_.a)(r[t],1)[0];e[n].stats[i][a]+=1}}))})),Object(x.a)(be,_e.DECREASE_STATS,(function(e,t){var n=t.targetId,a=t.quoteId;return Object(Ie.a)(e,(function(e){if(0!==ke(e[n].stats,a))for(var t=0,r=Object.entries(e[n].stats);t<r.length;t++){var i=Object(_.a)(r[t],1)[0];e[n].stats[i][a]-=1}}))})),Object(x.a)(be,_e.FILTER_OUT_TARGET,(function(e,t){return Object(Ie.a)(e,(function(e){delete e[t]}))})),Object(x.a)(be,_e.FILTER_OUT_USER,(function(e,t){var n=t.targetId,a=t.userId;return Object(Ie.a)(e,(function(e){var t=e[n].users.guests.findIndex((function(e){return e.id===a}));t>=0&&e[n].users.guests.splice(t,1)}))})),Object(x.a)(be,_e.FILTER_OUT_QUOTE,(function(e,t){var n=t.targetId,a=t.quoteId;return Object(Ie.a)(e,(function(e){if(delete e[n].quotes[a],e[n].stats)for(var t=0,r=Object.entries(e[n].stats);t<r.length;t++){var i=Object(_.a)(r[t],1)[0];delete e[n].stats[i][a]}}))})),be),we=function(e,t){for(var n={},a=0,r=Object.entries(t);a<r.length;a++){var i=Object(_.a)(r[a],2),c=i[0],o=i[1];n[c]=Object(G.a)({},e[c],{},o)}return n},ke=function(e,t){for(var n=Number.MAX_SAFE_INTEGER,a=0,r=Object.entries(e);a<r.length;a++){var i=Object(_.a)(r[a],1)[0];e[i][t]<n&&(n=e[i][t])}return n};q.injectReducer("apiv2",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;return Ae[n]?Ae[n](e,a):e}));var xe,Ge=n(35),Ce=n.n(Ge),Le=n(263),Ue=function(e){q.dispatch({type:_e.MERGE_REPLACE_SHALLOW,payload:e})},Ne=function(e){q.dispatch({type:_e.MERGE_REPLACE_DEEP_ONLY,payload:e})},qe=function(e,t){var n=t.title,a=t.description;q.dispatch({type:_e.MERGE_INFO,payload:{targetId:e,info:{title:n,description:a}}}),Ke(Je.PATCH.TARGET_id,{targetId:e,body:{title:n,description:a}})},De=n(39),Fe=n.n(De),Pe=z("errorMessage","set"),ze=z("errorMessage","clear"),Qe=(xe={},Object(x.a)(xe,Pe,(function(e,t){var n=t.message,a=t.scope,r=Object.assign({},e);return r[a]=n,r})),Object(x.a)(xe,ze,(function(e,t){var n=t.scope,a=Object.assign({},e);return a[n]=null,a})),xe),Me={global:null},Be=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"global";return q.dispatch({type:Pe,payload:{message:e,scope:t}})},We=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"global";return q.dispatch({type:ze,payload:{scope:e}})};q.injectReducer("errorMessage",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;return Qe[n]?Qe[n](e,a):e}));var He={MalformedUUID:"Die Target-ID ist ung\xfcltig",MalformedInt:"Ein Anfrage-Parameter ist ung\xfcltig",MalformedTime:"Der Zeitpunkt wurde nicht korrekt \xfcbermittelt",TargetNotFound:"Das Target konnte nicht gefunden werden",TargetTitleTooLong:"Der Titel des Targets ist zu lang",TargetDescriptionTooLong:"Die Beschreibung des Targets ist zu lang",QuoteNotFound:"Der Spruch konnte nicht gefunden werden",QuoteTextTooLong:"Der Spruch ist zu lang",QuoteNotPartOfTarget:"Der Spruch geh\xf6rt nicht zu dem Target",NoRecordsCreated:"Es gibt noch keine Records, die gel\xf6scht werden k\xf6nnten",RecordTooOld:"Der letzte Record ist zu alt, um ihn noch zu l\xf6schen",UserCannotViewTarget:"Du darfst dieses Target nicht ansehen",UserCannotSubmitRecords:"Du darfst keine Records bei diesem Target eintragen",UserCannotEditTarget:"Du darfst dieses Target nicht bearbeiten",UserIsNotOwner:"Das Target kann nur vom Inhaber gel\xf6scht werden",GuestUserNotFound:"Diese Person war nie Teil des Targets",UserNotFound:"Die Person konnte nicht gefunden werden (Email falsch?)",MissingBody:"Anfrage ung\xfcltig (MissingBody)",TooManyBlankFields:"Es d\xfcrfen keine Felder leergelassen werden (TooManyBlankFields)",CannotDeleteSelfFromTarget:"Du kannst dich nicht selbst von diesem Target l\xf6schen",CannotDeleteTargetOwner:"Der Inhaber des Targets kann nicht gel\xf6scht werden",CannotAddOwnerAsGuest:"Der Inhaber des Targets kann nicht als Person hinzugef\xfcgt werden",APIAccessDenied:"Interner API-Zugriffsfehler. Bitte Admin benachrichten",InternalError:"Interner Server-Fehler. Bitte Admin benachrichtigen"},Ze=function(){return q.dispatch(Object(ae.showLoading)())},Ve=function(){return q.dispatch(Object(ae.hideLoading)())};Fe.a.defaults.baseURL="http://localhost:8080/api/v2",Fe.a.defaults.timeout=5e3;var Je={GET:{TARGETS:{url:function(){return"/targets"},handler:function(e){Ue(e);for(var t=[],n=[],a=0,r=Object.entries(e);a<r.length;a++){var i=Object(_.a)(r[a],1)[0];t.push(Je.GET.TARGET_id_USERS),n.push({targetId:i})}Ye(t,n)},shouldShowLoading:function(e){return Object.entries(tt())<=1}},TARGET_id_INFO:{url:function(e){return"/target/".concat(e.targetId,"/info")},handler:function(e){Ne(e)},shouldShowLoading:function(e){var t;return!(null===(t=tt()[e.targetId])||void 0===t?void 0:t.info)}},TARGET_id_USERS:{url:function(e){return"/target/".concat(e.targetId,"/users")},handler:function(e){Ne(e)},shouldShowLoading:function(e){var t;return!(null===(t=tt()[e.targetId])||void 0===t?void 0:t.users)}},TARGET_id_QUOTES:{url:function(e){return"/target/".concat(e.targetId,"/quotes")},handler:function(e){Ne(e)},shouldShowLoading:function(e){var t;return!(null===(t=tt()[e.targetId])||void 0===t?void 0:t.quotes)}},TARGET_id_STATS:{url:function(e){return"/target/".concat(e.targetId,"/stats")},handler:function(e){Ne(e)},shouldShowLoading:function(e){var t;return!(null===(t=tt()[e.targetId])||void 0===t?void 0:t.stats)}},TARGET_id_RECORDS:{url:function(e){return"/target/".concat(e.targetId,"/records")},handler:function(e){Ne(e)},shouldShowLoading:function(e){var t;return!(null===(t=tt()[e.targetId])||void 0===t?void 0:t.records)}},TARGET_id_RECORDS_from_to:{url:function(e){return"/target/".concat(e.targetId,"/records?from=").concat(e.from,"&to=").concat(e.to)},handler:function(e){Ne(e)},shouldShowLoading:function(e){var t;return!(null===(t=tt()[e.targetId])||void 0===t?void 0:t.records)}}},PATCH:{TARGET_id:{method:"patch",url:function(e){return"/target/".concat(e.targetId)},handler:function(e){return Je.GET.TARGET_id_INFO.handler(e)}},TARGET_id_QUOTE_id:{method:"patch",url:function(e){return"/target/".concat(e.targetId,"/quote/").concat(e.quoteId)},handler:function(e){return Je.GET.TARGET_id_QUOTES.handler(e)}},TARGET_id_USER_id:{method:"patch",url:function(e){return"/target/".concat(e.targetId,"/user/").concat(e.userId)},handler:function(e){return Je.GET.TARGET_id_USERS.handler(e)}}},POST:{TARGET:{method:"post",url:function(){return"/target"},handler:function(e,t){Je.GET.TARGET_id_INFO.handler(e),Ye([Je.GET.TARGET_id_USERS],{targetId:t})},shouldShowLoading:function(){return!0}},TARGET_id_QUOTE:{method:"post",url:function(e){return"/target/".concat(e.targetId,"/quote")},handler:function(e){return Je.GET.TARGET_id_QUOTES.handler(e)}},TARGET_id_QUOTE_id:{method:"post",url:function(e){return"/target/".concat(e.targetId,"/quote/").concat(e.quoteId)},handler:function(e){return Je.GET.TARGET_id_STATS.handler(e)}},TARGET_id_USER:{method:"post",url:function(e){return"/target/".concat(e.targetId,"/user")},handler:function(e){return Je.GET.TARGET_id_USERS.handler(e)}}},DELETE:{TARGET_id:{method:"delete",url:function(e){return"/target/".concat(e.targetId)},handler:function(e){Ue(e)},shouldShowLoading:function(){return!0}},TARGET_id_QUOTE_id:{method:"delete",url:function(e){return"/target/".concat(e.targetId,"/quote/").concat(e.quoteId)},handler:function(e){return Je.GET.TARGET_id_QUOTES.handler(e)}},TARGET_id_QUOTE_id_RECORD:{method:"delete",url:function(e){return"/target/".concat(e.targetId,"/quote/").concat(e.quoteId,"/record")},handler:function(e){return Je.GET.TARGET_id_STATS.handler(e)}},TARGET_id_USER_id:{method:"delete",url:function(e){return"/target/".concat(e.targetId,"/user/").concat(e.userId)},handler:function(e){return Je.GET.TARGET_id_USERS.handler(e)}}}},Xe=function(e,t){var n=Array.isArray(t)?t[0].interval:null===t||void 0===t?void 0:t.interval;(!n||n<5)&&(n=100);var a=function(e,t){return e(),setInterval(e,t)}((function(){Ye(e,t)}),1e3*n);return console.log("poll subscribe (".concat(a,") using interval ").concat(n)),function(){console.log("poll unsubscribe (".concat(a,")")),clearInterval(a)}},Ye=function(e,t){q.dispatch(function(){var n=Object(l.a)(u.a.mark((function n(a){var r,i,c,o,l;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=Array.isArray(t),i=!1,e.forEach((function(e,n){i=i||e.shouldShowLoading&&e.shouldShowLoading(r?t[n]:t)})),i&&Ze(),n.next=6,X();case 6:c=n.sent,o={headers:{Authorization:"Bearer ".concat(c)}},l=r?e.map((function(e,n){return Fe.a.get(e.url(t[n]),o)})):e.map((function(e){return Fe.a.get(e.url(t),o)})),Fe.a.all(l).then(Fe.a.spread((function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];n.forEach((function(t,n){e[n].handler(t.data.data),console.log(t.data),console.log(t.status)})),Ve()}))).catch((function(e){$e(e),Ve()}));case 10:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())},Ke=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;q.dispatch(function(){var a=Object(l.a)(u.a.mark((function a(r){var i;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return e.shouldShowLoading&&e.shouldShowLoading(t)&&Ze(),a.next=3,X();case 3:i=a.sent,console.log(e.method),console.log(e.url(t)),console.log(t.body),Fe()({method:e.method,url:e.url(t),headers:{Authorization:"Bearer ".concat(i)},data:Object(G.a)({},t.body)}).then((function(t){"post"===e.method?e.handler(t.data.data,t.data.id):e.handler(t.data.data),n&&n(t.data.status),console.log(t.status),console.log(t.data),Ve()})).catch((function(e){var t,a;n&&n(null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.status),$e(e),Ve()}));case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())},$e=function(e){var t,n;if(console.log("ERROR"),console.log(e),console.log(JSON.stringify(e.response)),null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.status){var a=He[e.response.data.status];Be(a||"Unbekannter Fehler: ".concat(e.response.data.status))}else Be("Es ist ein unbekannter Fehler aufgetreten")},et=function(e){var t=Object(a.useState)(F("apiv2")),n=Object(_.a)(t,2),r=n[0],i=n[1];return Object(a.useLayoutEffect)((function(){return P("apiv2",i)}),[i]),e(r)},tt=function(){return F("apiv2")},nt=n(260),at=n(240),rt=n(241),it=n(242),ct=n(243),ot=function(e){return r.a.createElement(nt.a,{open:e.open,onClose:e.negativeAction},r.a.createElement(at.a,null,e.title),r.a.createElement(rt.a,null,r.a.createElement(it.a,null,e.text)),r.a.createElement(ct.a,null,r.a.createElement(d.a,{onClick:e.negativeAction,color:"primary"},e.negativeText),r.a.createElement(d.a,{onClick:e.positiveAction,color:"primary"},e.positiveText)))},ut=n(256),lt=function(e,t,n){var i=Object(a.useState)(""),c=Object(_.a)(i,2),o=c[0],u=c[1],l=Object(a.useState)(""),s=Object(_.a)(l,2),d=s[0],f=s[1],E=Object(a.useState)(!1),m=Object(_.a)(E,2),g=m[0],h=m[1],v=Object(a.useState)(!1),p=Object(_.a)(v,2),b=p[0],T=p[1],O=Object(a.useState)(""),S=Object(_.a)(O,2),j=S[0],R=S[1],I=Object(a.useState)(""),y=Object(_.a)(I,2),A=y[0],w=y[1];return Object(a.useLayoutEffect)((function(){e&&(u(e.title),f(e.description))}),[e]),{checkSave:function(){return 0===o.length&&(h(!0),R("Titel darf nicht leer sein")),0===d.length&&(T(!0),w("Beschreibung darf nicht leer sein")),o.length>0&&o.length<=t&&d.length>0&&d.length<=n},clearData:function(){u(""),f(""),R(""),w(""),h(!1),T(!1)},title:o,description:d,element:r.a.createElement("div",null,r.a.createElement(ut.a,{autoFocus:!0,fullWidth:!0,error:g,helperText:j,value:o,onChange:function(e){u(e.target.value),h(e.target.value.length>t),e.target.value.length>t?R("Titel darf nicht l\xe4nger als ".concat(t," Zeichen sein")):R("")},label:"Titel des Targets"}),r.a.createElement(ut.a,{fullWidth:!0,multiline:!0,style:{marginTop:16},error:b,helperText:A,value:d,onChange:function(e){f(e.target.value),T(e.target.value.length>n),e.target.value.length>n?w("Beschreibung darf nicht l\xe4nger als ".concat(n," Zeichen sein")):w("")},label:"Beschreibung des Targets"}))}},st=n(30),dt=n(246),ft=function(e){var t=Object(st.a)(),n=Te(e.name),a=Object(dt.a)(t.breakpoints.down("xs")),i=function(){ve(e.name)};return r.a.createElement(nt.a,{open:!!n&&n.show,onClose:i,fullScreen:a,fullWidth:!0},r.a.createElement(at.a,null,e.title),r.a.createElement(rt.a,null,e.form.element),r.a.createElement(ct.a,null,r.a.createElement(d.a,{onClick:i,color:"primary"},"ABBRECHEN"),r.a.createElement(d.a,{onClick:function(){e.form.checkSave()&&(i(),e.saveAction())},color:"primary"},"SPEICHERN")))},Et=function(e){var t=Te(e.name),n=lt(t,e.maxTitleLength,e.maxDescriptionLength);return r.a.createElement(ft,{name:e.name,title:"Target bearbeiten",saveAction:function(){return e.saveAction(t.id,n.title,n.description)},form:n})},mt=n(247),gt=n(116),ht=n.n(gt),vt=n(261),pt=n(248),bt=Object(y.a)({textField:{width:"100%"},button:{float:"right",marginTop:16},spaceAtTop:{marginTop:8},fullWidth:{width:"100%"}}),Tt=function(e){var t=lt(null,e.maxTitleLength,e.maxDescriptionLength),n=bt();return r.a.createElement(vt.a,null,r.a.createElement(mt.a,{expandIcon:r.a.createElement(ht.a,null)},r.a.createElement(s.a,{variant:"body1"},"Neues Target erstellen")),r.a.createElement(pt.a,null,r.a.createElement("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),t.checkSave()&&function(e){var t=e.title,n=e.description,a=Ce()().format(),r=Object(Le.a)();Ne(Object(x.a)({},r,{info:{owner:"Laden...",title:t,description:n,createdOn:a,lastVisited:a}})),Ke(Je.POST.TARGET,{body:{title:t,description:n}})}({title:t.title,description:t.description}),t.clearData()},className:n.fullWidth},t.element,r.a.createElement(d.a,{type:"submit",variant:"contained",color:"primary",className:n.button},"Erstellen"))))},Ot="target-delete-confirm",St="target-edit",jt=function(){Object(f.useTitle)("".concat("Alle Targets"," - SLv2"));var e=(Object(a.useEffect)((function(){return Xe([Je.GET.TARGETS],{interval:30})}),[]),et((function(e){return e}))),t=Te(Ot);return Object(a.useLayoutEffect)((function(){return function(){ve(St),ve(Ot)}}),[]),r.a.createElement(T,null,e&&r.a.createElement("div",null,r.a.createElement(S,{title:"Alle Targets"}),Object.entries(e).map((function(e){var t=Object(_.a)(e,2),n=t[0],a=t[1];return a.users?r.a.createElement(Re,{id:n,targetInfo:a.info,targetUsers:a.users,key:n}):null})),r.a.createElement(Tt,{maxTitleLength:70,maxDescriptionLength:280}),r.a.createElement("p",null),r.a.createElement(Et,{name:St,maxTitleLength:70,maxDescriptionLength:280,saveAction:function(e,t,n){qe(e,{title:t,description:n})}}),r.a.createElement(ot,{open:!!t&&t.show,title:"Wirklich l\xf6schen?",text:"Soll das Target '".concat(null===t||void 0===t?void 0:t.title,"' wirklich gel\xf6scht werden? Einmal gel\xf6scht, kann das Target (derzeit) nicht wiederhergestellt werden."),negativeText:"BEHALTEN",positiveText:"L\xd6SCHEN",negativeAction:function(){ve(Ot)},positiveAction:function(){var e;ve(Ot),e=null===t||void 0===t?void 0:t.id,q.dispatch({type:_e.FILTER_OUT_TARGET,payload:e}),Ke(Je.DELETE.TARGET_id,{targetId:e})}})))},Rt=function(e){return r.a.createElement(s.a,{className:"cs-row"},r.a.createElement(p,{href:e.href},e.text?e.text:"zur\xfcck zur \xdcbersicht"))},It=n(84),yt=n.n(It),_t=function(e){return r.a.createElement(S,{title:e.title},e.showEditIcon&&r.a.createElement(h.a,{onClick:function(){pe(St,{title:e.title,description:e.description,id:e.targetId}),he(St)},style:{marginLeft:16}},r.a.createElement(yt.a,null)))},At=n(66),wt=n(245),kt=n(249),xt=n(250),Gt=n(251),Ct=n(244),Lt=n(259),Ut=function(e){var t=e.targetId,n=e.users,i=e.anchor,c=Te("user-edit-popover"),o=!!(null===c||void 0===c?void 0:c.show)&&c.show,u=Te("user-remove-confirm"),l=Se(n).canEdit,s=Object(a.useState)(!1),f=Object(_.a)(s,2),E=f[0],m=f[1],g=Object(a.useState)(!1),h=Object(_.a)(g,2),v=h[0],p=h[1],b=Object(a.useState)(!1),T=Object(_.a)(b,2),O=T[0],S=T[1];Object(a.useLayoutEffect)((function(){var e,t;null!=c&&c.user&&(null==(null===c||void 0===c||null===(e=c.user)||void 0===e?void 0:e.canSubmitRecords)&&null==(null===c||void 0===c||null===(t=c.user)||void 0===t?void 0:t.canEdit)?(m(!0),p(!0),S(!0)):(m(!1),p(c.user.canSubmitRecords),S(c.user.canEdit)))}),[c,E]),Object(a.useLayoutEffect)((function(){return function(){ve("user-remove-confirm"),j()}}),[]);var j=function(){pe("user-edit-popover",null),ve("user-edit-popover")};return r.a.createElement(a.Fragment,null,r.a.createElement(Ct.a,{open:o,anchorEl:o?i:null,onClose:function(){var e=v!==c.user.canSubmitRecords||O!==c.user.canEdit;!E&&e&&function(e,t){q.dispatch({type:_e.MERGE_USERS,payload:{targetId:e,user:t}}),Ke(Je.PATCH.TARGET_id_USER_id,{targetId:e,userId:t.id,body:{canSubmitRecords:t.canSubmitRecords,canEdit:t.canEdit}})}(t,{id:c.user.id,canSubmitRecords:v,canEdit:O}),j()},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement(se.a,null,r.a.createElement(wt.a,null,r.a.createElement(kt.a,{key:"canSubmitRecords"},r.a.createElement(xt.a,{primary:"Darf Records eintragen?"}),r.a.createElement(Gt.a,null,r.a.createElement(Lt.a,{edge:"end",checked:v,onChange:function(e){p(e.target.checked),e.target.checked||S(!1)},disabled:E||!l,color:"primary"}))),r.a.createElement(kt.a,{key:"canEdit"},r.a.createElement(xt.a,{primary:"Darf bearbeiten?"}),r.a.createElement(Gt.a,null,r.a.createElement(Lt.a,{edge:"end",checked:O,onChange:function(e){S(e.target.checked),e.target.checked&&p(!0)},disabled:E||!l,color:"primary"})))),r.a.createElement(le.a,null,r.a.createElement(d.a,{color:"secondary",disabled:E||!l,onClick:function(){pe("user-remove-confirm",{user:c.user,targetId:t}),he("user-remove-confirm")}},"PERSON ENTFERNEN")))),r.a.createElement(ot,{open:!!u&&u.show,title:"Wirklich entfernen?",text:"Soll '".concat(null===u||void 0===u?void 0:u.user.name,"' wirklich vom Target entfernt werden?"),negativeText:"BEHALTEN",positiveText:"L\xd6SCHEN",negativeAction:function(){ve("user-remove-confirm")},positiveAction:function(){ve("user-remove-confirm"),function(e,t){q.dispatch({type:_e.FILTER_OUT_USER,payload:{targetId:e,userId:t}}),Ke(Je.DELETE.TARGET_id_USER_id,{targetId:e,userId:t})}(null===u||void 0===u?void 0:u.targetId,null===u||void 0===u?void 0:u.user.id),j()}}))},Nt=n(252),qt=function(e){var t=e.targetId,n=e.flexBoxClass,i=e.chipClass,c=Object(a.useState)(""),o=Object(_.a)(c,2),u=o[0],l=o[1],s=Object(a.useState)([]),d=Object(_.a)(s,2),f=d[0],m=d[1],g=Object(a.useState)([]),h=Object(_.a)(g,2),v=h[0],p=h[1],b=function(e){f.includes(e)||(m((function(t){return[].concat(Object(At.a)(t),[e])})),function(e,t,n){Ke(Je.POST.TARGET_id_USER,{targetId:e,body:Object(G.a)({},t)},n)}(t,{email:e,canSubmitRecords:!1,canEdit:!1},(function(t){"OK"===t?m((function(t){return t.filter((function(t){return t!==e}))})):v.includes(e)||p((function(t){return[].concat(Object(At.a)(t),[e])}))}))),l("")};return r.a.createElement(a.Fragment,null,r.a.createElement(O.a,{component:"ul",className:n},f.map((function(e){return r.a.createElement(E.a,{key:e,className:i,label:e,color:v.includes(e)?"secondary":"default",avatar:v.includes(e)?null:r.a.createElement(Nt.a,{size:18,color:"inherit",thickness:6}),onDelete:v.includes(e)?function(){m((function(t){return t.filter((function(t){return t!==e}))}))}:null,onClick:function(){l(e),m((function(t){return t.filter((function(t){return t!==e}))}))}})})),r.a.createElement("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),b(u.trim())},style:{flexGrow:1,marginLeft:4}},r.a.createElement(ut.a,{fullWidth:!0,value:u,onChange:function(e){var t=e.target.value;l(t),t.trim().length>2&&t.endsWith(" ")&&b(t.trim())},label:"Personen hinzuf\xfcgen (E-Mail)"}))))},Dt=Object(y.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",listStyle:"none",padding:e.spacing(0),margin:0,alignItems:"flex-end"},chip:{margin:e.spacing(.25)}}})),Ft=function(e){var t=Dt(),n=Se(e.users).canEdit;return r.a.createElement(O.a,{component:"ul",className:t.root},e.mergedUsers.map((function(n){var i=n.name,c=i.substring(0,1).toUpperCase();return r.a.createElement(a.Fragment,{key:n.name},r.a.createElement("li",null,r.a.createElement(E.a,{className:t.chip,avatar:r.a.createElement(ue.a,null,c),label:i,onClick:function(t){return e.handleClick(t,n.id)}})))})),n&&r.a.createElement("li",{key:"new",style:{flexGrow:1}},r.a.createElement(qt,{targetId:e.targetId,flexBoxClass:t.root,chipClass:t.chip})))},Pt=function(e){var t=[e.users.owner].concat(Object(At.a)(e.users.guests)),n=Object(a.useState)(null),i=Object(_.a)(n,2),c=i[0],o=i[1];return r.a.createElement(a.Fragment,null,r.a.createElement(Ft,{targetId:e.targetId,users:e.users,mergedUsers:t,handleClick:function(e,n){o(e.currentTarget),pe("user-edit-popover",{user:t.find((function(e){return e.id===n}))}),he("user-edit-popover")}}),r.a.createElement(Ut,{targetId:e.targetId,users:e.users,anchor:c}))},zt=function(e){return r.a.createElement(s.a,{variant:"body1",className:"cs-caption"},e.text,e.children)},Qt=function(e){return r.a.createElement(a.Fragment,null,r.a.createElement(_t,{targetId:e.targetId,title:e.title,description:e.description,showEditIcon:e.permissions.canEdit}),r.a.createElement(Rt,{href:"/alltargets",text:"zur\xfcck zur Liste"}),r.a.createElement(zt,{text:e.description}),r.a.createElement(Pt,{targetId:e.targetId,users:e.users}))},Mt=function(e){return r.a.createElement(O.a,{className:"cs-button-group"},e.buttons.map((function(e){return r.a.createElement(v,{key:e.href,variant:"outlined",disabled:e.disabled,color:"secondary",href:e.href},e.text)})))},Bt=function(e){return r.a.createElement(a.Fragment,null,r.a.createElement(S,{title:"Zusammenfassung"}),r.a.createElement(zt,{text:"".concat(e.quotesSummarized.amountQuotes," Spr\xfcche und insgesamt ").concat(e.quotesSummarized.totalRecords," Eintr\xe4ge seit dem ").concat(Ce()(e.createdOn).format("L"))}),r.a.createElement(Mt,{buttons:[{href:"./insert",text:"Eintragen",disabled:!e.permissions.canSubmitRecords},{href:"./quotes",text:"Spr\xfcche"}]}))},Wt=function(e){return r.a.createElement(O.a,{className:"page-title-2"},r.a.createElement(s.a,{variant:"h4"},e.title,e.children))},Ht=function(e){return r.a.createElement(s.a,{variant:"body1",style:{marginBottom:16},component:"div"},Object.entries(e.quotes).map((function(e,t){var n=Object(_.a)(e,2),a=n[0],i=n[1];return r.a.createElement("span",{key:t},a,": ",i,r.a.createElement("br",null))})))},Zt=function(e){return r.a.createElement(a.Fragment,null,r.a.createElement(Wt,{title:"Statistik"}),r.a.createElement(zt,{text:"Heute"}," ",r.a.createElement(v,{variant:"outlined",href:"statistics",size:"small"},"ANZEIGEN")),e.stats&&r.a.createElement(Ht,{quotes:e.stats.today}),r.a.createElement(zt,{text:"Insgesamt"}," ",r.a.createElement(v,{variant:"outlined",href:"statistics",size:"small"},"ANZEIGEN")),e.stats&&r.a.createElement(Ht,{quotes:e.stats.full}))},Vt=function(e,t){var n=0;return(null===t||void 0===t?void 0:t.full)&&Object.entries(t.full).length>0&&(n=Object.values(t.full).reduce((function(e,t){return e+t}))),{amountQuotes:e?Object.entries(e).length:0,totalRecords:n}},Jt=function(e,t){var n={};if(e&&t)for(var a=0,r=Object.entries(e);a<r.length;a++){var i=Object(_.a)(r[a],2),c=i[0];n[i[1].text]=t[c]}return n},Xt=function(e){var t,n;Object(f.useTitle)("\xdcbersicht - SLv2");var i,c=(i=e.targetId,Object(a.useEffect)((function(){return Xe([Je.GET.TARGET_id_INFO,Je.GET.TARGET_id_USERS,Je.GET.TARGET_id_QUOTES,Je.GET.TARGET_id_STATS],{interval:30,targetId:i})}),[i]),et((function(e){return e[i]}))),o=Se((null===c||void 0===c?void 0:c.users)?c.users:[]);return Object(a.useLayoutEffect)((function(){return function(){ve(St)}}),[]),r.a.createElement(T,null,c&&c.users&&c.info&&c.quotes&&c.stats&&r.a.createElement("div",null,r.a.createElement(Qt,{targetId:e.targetId,title:c.info.title,description:c.info.description,users:c.users?c.users:[],permissions:o}),r.a.createElement(Bt,{createdOn:c.info.createdOn,permissions:o,quotesSummarized:Vt(c.quotes,c.stats)}),r.a.createElement(Zt,{stats:{today:Jt(c.quotes,null===(t=c.stats)||void 0===t?void 0:t.today),full:Jt(c.quotes,null===(n=c.stats)||void 0===n?void 0:n.full)}}),r.a.createElement(Et,{name:St,maxTitleLength:70,maxDescriptionLength:280,saveAction:function(e,t,n){qe(e,{title:t,description:n})}})))},Yt=n(253),Kt=function(e){var t=e.targetId,n=e.quoteId,a=e.quote.text,i=e.quote.count;return r.a.createElement(Yt.a,{container:!0,item:!0,xs:12,spacing:3,direction:"row",justify:"flex-start",alignItems:"center"},r.a.createElement(Yt.a,{item:!0,xs:9,sm:7,md:5},r.a.createElement(d.a,{size:"large",variant:"outlined",color:"primary",onClick:function(){return function(e,t){q.dispatch({type:_e.INCREASE_STATS,payload:{targetId:e,quoteId:t}}),Ke(Je.POST.TARGET_id_QUOTE_id,{targetId:e,quoteId:t})}(t,n)}},a)),r.a.createElement(Yt.a,{item:!0,xs:1},r.a.createElement(s.a,{variant:"body1",component:"div"},i)),r.a.createElement(Yt.a,{item:!0,xs:2,md:1},r.a.createElement(d.a,{variant:"text",onClick:function(){return function(e,t){q.dispatch({type:_e.DECREASE_STATS,payload:{targetId:e,quoteId:t}}),Ke(Je.DELETE.TARGET_id_QUOTE_id_RECORD,{targetId:e,quoteId:t})}(t,n)}},"( -1 )")))},$t=function(e){return r.a.createElement(Yt.a,{container:!0,spacing:2,direction:"row",justify:"flex-start",alignItems:"flex-start"},e.quotes&&Object.entries(e.quotes).map((function(t){var n=Object(_.a)(t,2),a=n[0],i=n[1];return r.a.createElement(Kt,{key:a,targetId:e.targetId,quoteId:a,quote:i})})))},en=function(e){Object(f.useTitle)("Eintragen - SLv2");var t=function(e){Object(a.useEffect)((function(){var t=Xe([Je.GET.TARGET_id_QUOTES],{interval:30,targetId:e}),n=Xe([Je.GET.TARGET_id_STATS],{interval:10,targetId:e});return function(){t(),n()}}),[e]);var t=et((function(t){return t[e]})),n={};if((null===t||void 0===t?void 0:t.stats)&&(null===t||void 0===t?void 0:t.quotes))for(var r=0,i=Object.entries(t.stats.today);r<i.length;r++){var c=Object(_.a)(i[r],2),o=c[0],u=c[1];n[o]={text:t.quotes[o].text,count:u}}return{today:n}}(e.targetId);return r.a.createElement(T,null,r.a.createElement(S,{title:"Eintragen"}),r.a.createElement(Rt,{href:"./overview"}),t&&r.a.createElement($t,{targetId:e.targetId,quotes:t.today}))},tn=n(117),nn=n.n(tn),an=function(e){return r.a.createElement(kt.a,null,r.a.createElement(xt.a,{primary:e.text}),r.a.createElement(Gt.a,null,e.showEdit&&r.a.createElement(h.a,{onClick:function(){pe(fn,{quote:e.text,id:e.id}),he(fn)}},r.a.createElement(yt.a,null)),e.showDelete&&r.a.createElement(h.a,{onClick:function(){pe(dn,{quote:e.text,id:e.id}),he(dn)}},r.a.createElement(nn.a,null))))},rn=n(254),cn=function(e){return r.a.createElement(wt.a,null,Object.entries(e.quotes).map((function(t){var n=Object(_.a)(t,2),a=n[0],i=n[1];return r.a.createElement("div",{key:a},r.a.createElement(rn.a,null),r.a.createElement(an,{id:a,text:i.text,showEdit:e.canEdit,showDelete:e.canEdit}))})),r.a.createElement(rn.a,null))},on=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"outlined",c=Object(a.useState)(""),o=Object(_.a)(c,2),u=o[0],l=o[1],s=Object(a.useState)(!1),d=Object(_.a)(s,2),f=d[0],E=d[1],m=Object(a.useState)(""),g=Object(_.a)(m,2),h=g[0],v=g[1],p=function(e){l(e.target.value),E(e.target.value.length>t),e.target.value.length>t?v("Spruch darf nicht l\xe4nger als ".concat(t," Zeichen sein")):v("")},b=function(){return 0===u.length&&(E(!0),v("Spruch darf nicht leer sein")),u.length>0&&u.length<=t&&(l(""),!0)};return Object(a.useLayoutEffect)((function(){e&&l(e.quote)}),[e]),{checkSave:b,quote:u,element:r.a.createElement(ut.a,{label:n,variant:i,fullWidth:!0,size:"small",error:f,helperText:h,value:u,onChange:p})}},un=Object(y.a)({textField:{width:"100%"},button:{float:"right"},spaceAtTop:{marginTop:8}}),ln=function(e){var t=un(),n=on(null,e.maxQuoteLength,"Neuen Spruch hinzuf\xfcgen");return r.a.createElement("form",{noValidate:!0,autoComplete:"off",onSubmit:function(t){t.preventDefault(),n.checkSave()&&e.onCheckedConfirm(n.quote)},className:t.spaceAtTop},r.a.createElement(Yt.a,{container:!0,spacing:2,direction:"row",alignItems:"flex-start",justify:"space-between"},r.a.createElement(Yt.a,{item:!0,xs:!0,key:"text-field"},n.element),r.a.createElement(Yt.a,{item:!0,xs:12,sm:3,md:2,key:"button"},r.a.createElement(d.a,{type:"submit",variant:"contained",color:"primary",className:t.button},"Hinzuf\xfcgen"))))},sn=function(e){var t=Te(e.name),n=on(t,e.maxQuoteLength);return r.a.createElement(ft,{name:e.name,title:"Spruche bearbeiten",saveAction:function(){return e.saveAction(t.id,n.quote)},form:n})},dn="quote-delete-confirm",fn="quote-edit",En=function(e){Object(f.useTitle)("Spr\xfcche - SLv2");var t,n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15;return Object(a.useEffect)((function(){return Xe([Je.GET.TARGET_id_QUOTES],{interval:t,targetId:e})}),[t,e]),et((function(t){var n;return null===(n=t[e])||void 0===n?void 0:n.quotes}))}(e.targetId),i=Te(dn),c=(t=e.targetId,Object(a.useEffect)((function(){return Xe([Je.GET.TARGET_id_USERS],{interval:30,targetId:t})}),[t]),et((function(e){var n;return null===(n=e[t])||void 0===n?void 0:n.users}))),o=Se(c);return Object(a.useLayoutEffect)((function(){return function(){ve(fn),ve(dn)}}),[]),r.a.createElement(T,null,r.a.createElement(S,{title:"Spr\xfcche"}),r.a.createElement(Rt,{href:"overview"}),n&&r.a.createElement(cn,{quotes:n,canEdit:o.canEdit}),r.a.createElement(ot,{open:!!i&&i.show,title:"Wirklich l\xf6schen?",text:"Soll der Spruch '".concat(null===i||void 0===i?void 0:i.quote,"' wirklich gel\xf6scht werden? Einmal gel\xf6scht, kann ein Spruch (derzeit) nicht wiederhergestellt werden!"),negativeText:"BEHALTEN",positiveText:"L\xd6SCHEN",negativeAction:function(){ve(dn)},positiveAction:function(){ve(dn),function(e,t){q.dispatch({type:_e.FILTER_OUT_QUOTE,payload:{targetId:e,quoteId:t}}),Ke(Je.DELETE.TARGET_id_QUOTE_id,{targetId:e,quoteId:t})}(e.targetId,null===i||void 0===i?void 0:i.id)}}),r.a.createElement(sn,{name:fn,maxQuoteLength:100,saveAction:function(t,n){!function(e,t,n){q.dispatch({type:_e.MERGE_QUOTES,payload:{targetId:e,quotes:Object(x.a)({},t,{text:n})}}),Ke(Je.PATCH.TARGET_id_QUOTE_id,{targetId:e,quoteId:t,body:{text:n}})}(e.targetId,t,n)}}),o.canEdit&&r.a.createElement(ln,{maxQuoteLength:100,onCheckedConfirm:function(t){return function(e,t){var n=Ce()(),a=n.valueOf();q.dispatch({type:_e.MERGE_QUOTES,payload:{targetId:e,quotes:Object(x.a)({},a,{text:t,createdOn:n.format()})}}),Ke(Je.POST.TARGET_id_QUOTE,{targetId:e,body:{text:t}})}(e.targetId,t)}}))},mn=function(e){return Object(f.useTitle)("Statistik - SLv2"),r.a.createElement(T,null,r.a.createElement(S,{title:"Statistik"}),r.a.createElement(Rt,{href:"overview"}),r.a.createElement(s.a,{variant:"body1"},"Hier wird in der n\xe4chsten Version die Statistik aller Spr\xfcche zu sehen sein."))},gn={"/:tid":function(e){var t=e.tid;Object(f.navigate)("".concat(t,"/overview"),!0)},"/:tid/overview":function(e){var t=e.tid;return r.a.createElement(Xt,{targetId:t})},"/:tid/insert":function(e){var t=e.tid;return r.a.createElement(en,{targetId:t})},"/:tid/quotes":function(e){var t=e.tid;return r.a.createElement(En,{targetId:t})},"/:tid/statistics":function(e){var t=e.tid;return r.a.createElement(mn,{targetId:t})}},hn=function(){return Object(f.useRoutes)(gn)||r.a.createElement(j,null)},vn=(n(183),n(53)),pn=function(){Object(f.useTitle)("Home - SLv2");var e=te(),t=e.isAuthenticated,n=e.loginWithRedirect,a=Object(vn.useDispatch)();return console.log("re-render!"),r.a.createElement(T,null,r.a.createElement(S,{title:"Sloddi labert v2"}),!t&&r.a.createElement(d.a,{variant:"contained",color:"primary",onClick:function(){return n()}},"Anmelden/Registrieren"),t&&r.a.createElement(v,{variant:"contained",color:"primary",href:"/alltargets"},"Zu allen Targets"),r.a.createElement(d.a,{variant:"contained",onClick:function(){return a(Object(ae.showLoading)())}},"start loading"),r.a.createElement(d.a,{variant:"contained",onClick:function(){return a(Object(ae.hideLoading)())}},"stop loading"),r.a.createElement(d.a,{variant:"contained",onClick:function(){return Be("This is a test")}},"Set global error"),r.a.createElement(d.a,{variant:"contained",onClick:function(){return We()}},"Remove global error"))},bn=function(){return Object(f.useTitle)("Logout - SLv2"),r.a.createElement(T,null,r.a.createElement(S,{title:"Ausgeloggt"}),r.a.createElement(s.a,{variant:"body1",style:{marginBottom:12}},"Du hast dich erfolgreich ausgeloggt!"),r.a.createElement(v,{variant:"contained",color:"primary",href:"/"},"Zur Startseite"))},Tn=n(121),On=n(120),Sn=n.n(On),jn=n(255),Rn=n(119),In=n.n(Rn),yn=function(){return r.a.createElement("div",{style:{position:"fixed",left:"50%",top:"50%",transform:"translate(-50%, -50%)"}},r.a.createElement(s.a,{variant:"h3",component:"h1",className:"animated-dots"},"Einloggen",r.a.createElement("span",null,"."),r.a.createElement("span",null,"."),r.a.createElement("span",null,".")))},_n=n(262),An=n(258),wn=n(118),kn=n.n(wn);function xn(e){return r.a.createElement(An.a,Object.assign({elevation:6,variant:"filled"},e))}var Gn=function(e){var t=e.errorState,n=e.useAlert,i=void 0===n||n,c=e.severity,o=void 0===c?"error":c,u=(e.actionName,e.action),l=void 0===u?null:u,s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"global",t=Object(a.useState)(F("errorMessage")),n=Object(_.a)(t,2),r=n[0],i=n[1];return Object(a.useLayoutEffect)((function(){return P("errorMessage",i)}),[i]),r[e]}(t),f=s,E=!!s,m=Object(a.useState)(""),g=Object(_.a)(m,2),v=g[0],p=g[1],b=function(e,n){"clickaway"!==n&&E&&We(t)},T=null;return i&&(T=r.a.createElement(xn,{severity:o,onClose:b},v)),Object(a.useLayoutEffect)((function(){f&&p(f)}),[f]),r.a.createElement(_n.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:E,autoHideDuration:6e3,message:l&&v,onClose:b,action:l&&r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{color:"secondary",size:"small",onClick:l},"UNDO"),r.a.createElement(h.a,{size:"small","aria-label":"close",color:"inherit",onClick:b},r.a.createElement(kn.a,{fontSize:"small"})))},T)},Cn=Object(Tn.a)({palette:{primary:In.a,secondary:Sn.a}}),Ln={"/":function(){return r.a.createElement(pn,null)},"/alltargets":function(){return r.a.createElement(jt,null)},"/target*":function(){return r.a.createElement(hn,null)},"/logout":function(){return r.a.createElement(bn,null)}},Un=["/","/logout","/404"],Nn=function(){var e=Object(f.usePath)(),t=te(),n=t.loading,i=t.isAuthenticated,c=t.loginWithRedirect;Object(a.useEffect)((function(){n||i||Un.includes(e)||function(){var e=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c({appState:{targetUrl:window.location.pathname}});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[n,i,c,e]);var o=Object(f.useRoutes)(Ln);return n?r.a.createElement(jn.a,{theme:Cn},r.a.createElement(yn,null)):r.a.createElement(jn.a,{theme:Cn},r.a.createElement(ce,null),r.a.createElement(Gn,{errorState:"global"}),o||r.a.createElement(j,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var qn=n(85);n(184);Object(f.setBasepath)("/quotracker");q.injectReducer("loadingBar",ae.loadingBarReducer),Ce()().locale("de"),c.a.render(r.a.createElement(vn.Provider,{store:q},r.a.createElement(ne,{domain:qn.domain,client_id:qn.clientId,redirect_uri:window.location.origin,audience:qn.audience,onRedirectCallback:function(e){Object(f.navigate)(e&&e.targetUrl?e.targetUrl:window.location.pathname)}},r.a.createElement(Nn,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},85:function(e){e.exports=JSON.parse('{"domain":"slv2auth0test.eu.auth0.com","clientId":"RkZ6JIMlXhI999T2unw3C5JgSDuI1ATu","audience":"http://localhost:8080"}')}},[[141,1,2]]]);
//# sourceMappingURL=main.411d735f.chunk.js.map